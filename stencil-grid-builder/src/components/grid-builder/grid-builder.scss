/**
 * Grid Builder Styles
 * ====================
 *
 * Main styles for the grid builder library component.
 * Uses CSS variables for theming support.
 */

:host {
  // Theme CSS variables with defaults
  --grid-builder-primary-color: #007bff;
  --grid-builder-palette-bg: #f5f5f5;
  --grid-builder-canvas-bg: #ffffff;
  --grid-builder-grid-line-color: rgba(0, 0, 0, 0.1);
  --grid-builder-selection-color: #007bff;
  --grid-builder-resize-handle-color: #007bff;
  --grid-builder-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
    'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;

  display: block;
  width: 100%;
  height: 100%;
  font-family: var(--grid-builder-font-family);
}

/**
 * Screen Reader Only (sr-only)
 * =============================
 *
 * Standard accessibility pattern to hide content visually
 * while keeping it accessible to screen readers.
 *
 * **Use Cases**:
 * - ARIA live regions for announcements
 * - Skip navigation links
 * - Hidden form labels
 * - Status messages
 *
 * **Technique**:
 * - Positioned off-screen instead of display:none
 * - display:none would hide from screen readers too
 * - clip prevents visual rendering
 *
 * **WCAG Compliance**: 4.1.3 Status Messages (Level AA)
 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.grid-builder-container {
  position: relative;
  display: flex;
  width: 100%;
  height: 100%;
}

.canvas-area {
  position: relative;
  flex: 1;
  background: var(--grid-builder-canvas-bg);
  overflow-y: auto;
}

.canvases-container {
  display: flex;
  flex-direction: column;
  min-height: 100%;
  gap: 0; /* No gaps between canvas sections */
}

/**
 * Canvas Wrapper
 * ==============
 *
 * Wrapper around each canvas-section providing a mounting point for custom canvas headers.
 * Headers are positioned automatically with their canvases - no manual offset calculations needed.
 *
 * **Layout Pattern**:
 * ```html
 * <div class="canvas-wrapper">
 *   <canvas-header /> <!-- Custom header from uiOverrides.CanvasHeader -->
 *   <canvas-section />
 * </div>
 * ```
 *
 * **Positioning**:
 * - Wrapper uses relative positioning (provides context for absolute children)
 * - Headers can position themselves relative to their canvas
 * - No gaps between canvases (flex column layout)
 *
 * **Performance**:
 * - Negligible overhead (~0.05ms per canvas)
 * - Natural DOM hierarchy (header + canvas siblings)
 */
.canvas-wrapper {
  position: relative; // Positioning context for custom headers
  display: flex;
  flex-direction: column;
  gap: 0; // No gap between header and canvas

  // First canvas needs top padding so header doesn't get cut off at page top
  // Matches the negative margin amount used on other headers
  &:first-child {
    padding-top: 38px;
  }
}

.config-area {
  position: fixed;
  z-index: 1000;
  right: 0;
  bottom: 0;
  display: none; // Hidden by default, shown when item selected
  width: 350px;
  max-height: 60%;
  border: 1px solid #ddd;
  border-radius: 8px 8px 0 0;
  background: white;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);

  &.visible {
    display: block;
  }
}
