{"version":3,"names":["registerInstance","h","getElement","interact","setActiveCanvas","state","onChange","clearGridSizeCache","gridToPixelsX","gridToPixelsY","getGridSizeVertical","calculateCanvasHeight","canvasSectionCss","CanvasSection","constructor","hostRef","this","isActive","renderVersion","calculatedHeight","isDropTarget","dropzoneInitialized","setupCanvasClickListener","gridContainerRef","addEventListener","event","target","canvasId","canvasActivatedEvent","CustomEvent","detail","bubbles","composed","dispatchEvent","canvasClickEvent","setupResizeObserver","resizeObserver","ResizeObserver","observe","initializeDropzone","interactable","dropzone","accept","overlap","listeners","dragenter","_event","dragleave","drop","droppedElement","relatedTarget","paletteItem","closest","isPaletteItem","classList","contains","_dropWasValid","isGridItemHeader","isGridItem","gridItem","componentType","getAttribute","defaultWidth","_defaultWidth","defaultHeight","_defaultHeight","widthPx","config","heightPx","halfWidth","halfHeight","rect","getBoundingClientRect","x","dragEvent","clientX","left","y","clientY","top","dropEvent","itemId","id","sourceCanvasId","droppedRect","moveEvent","targetCanvasId","componentWillLoad","canvas","canvases","error","console","debug","componentWillUpdate","componentDidLoad","disconnectedCallback","unset","disconnect","handleCanvasIdChange","newCanvasId","oldCanvasId","handleConfigChange","newConfig","oldConfig","handleIsActiveChange","newIsActive","oldIsActive","render","_a","_b","_c","showGrid","verticalGridSize","minHeightGridUnits","canvasMinHeight","minHeightPx","key","class","active","style","Object","assign","backgroundColor","backgroundSize","minHeight","height","ref","el","items","map","item","componentRegistry","onBeforeDelete","watchers","componentPaletteCss","ComponentPalette","showHeader","draggingItemType","initializePaletteItems","paletteItems","hostElement","querySelectorAll","forEach","element","_dragInitialized","draggable","inertia","autoScroll","start","warn","paletteRect","_originalPosition","definition","components","find","c","type","defaultSize","width","gridState","window","canvasIds","keys","length","estimatedGridSize","dragClone","document","createElement","className","position","overflow","pointerEvents","zIndex","border","borderRadius","boxShadow","cursor","vNode","renderDragClone","tagName","$tag$","contentElement","$attrs$","setAttribute","appendChild","body","_dragClone","_halfWidth","_halfHeight","move","end","dropWasValid","originalPos","transition","opacity","setTimeout","remove","handleComponentsChange","newComponents","oldComponents","requestAnimationFrame","componentDidUpdate","paletteClasses","palette","component","itemClasses","renderPaletteItem","name","icon"],"sources":["0"],"mappings":"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","ignoreList":[]}