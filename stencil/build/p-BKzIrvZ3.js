class n{constructor(){this.canvases=new Map}getCanvas(n){if(this.canvases.has(n)){return this.canvases.get(n)}const o=document.getElementById(n);if(o){this.canvases.set(n,o)}return o}invalidate(n){this.canvases.delete(n)}clear(){this.canvases.clear()}}const o=20;const t=.02;const i=10;const s=50;const c=new Map;function r(n){if(n){const o=`${n}-`;for(const n of c.keys()){if(n.startsWith(o)){c.delete(n)}}}else{c.clear()}}function l(n,o,r){var l,e;const a=(r===null||r===void 0?void 0:r.instanceId)?`${r.instanceId}-${n}-h`:`${n}-h`;const u=(r===null||r===void 0?void 0:r.gridSizePercent)?r.gridSizePercent/100:t;const d=o*u;const v=(l=r===null||r===void 0?void 0:r.minGridSize)!==null&&l!==void 0?l:i;const f=(e=r===null||r===void 0?void 0:r.maxGridSize)!==null&&e!==void 0?e:s;const h=Math.max(v,Math.min(f,d));c.set(a,h)}function e(o,r,l=false,e){var a,u;const d=(r===null||r===void 0?void 0:r.instanceId)?`${r.instanceId}-${o}-h`:`${o}-h`;if(!l&&c.has(d)){return c.get(d)}const v=e||new n;const f=v.getCanvas(o);if(!f){console.warn(`Canvas container not found: ${o}`);return 0}const h=(r===null||r===void 0?void 0:r.gridSizePercent)?r.gridSizePercent/100:t;const M=f.clientWidth*h;const $=(a=r===null||r===void 0?void 0:r.minGridSize)!==null&&a!==void 0?a:i;const p=(u=r===null||r===void 0?void 0:r.maxGridSize)!==null&&u!==void 0?u:s;const g=Math.max($,Math.min(p,M));if(f.clientWidth>100){c.set(d,g)}return g}function a(n){var t;return(t=n===null||n===void 0?void 0:n.verticalGridSize)!==null&&t!==void 0?t:o}function u(n,o,t){const i=e(o,t);return Math.round(n*i)}function d(n,o){return n*a(o)}function v(n,o,t){const i=e(o,t);if(i===0){return 0}return Math.round(n/i)}function f(n,o){return Math.round(n/a(o))}var h=Object.freeze({__proto__:null,clearGridSizeCache:r,getGridSizeHorizontal:e,getGridSizeVertical:a,gridToPixelsX:u,gridToPixelsY:d,pixelsToGridX:v,pixelsToGridY:f,setGridSizeCache:l});export{n as D,a,u as b,r as c,e as d,f as e,h as f,d as g,v as p,l as s};
//# sourceMappingURL=p-BKzIrvZ3.js.map