import{r as e,c as r,h as a,g as t}from"./p-CR9rAByj.js";const o=".layer-panel-folder-header{display:flex;align-items:center;height:40px;padding:0 8px;background:var(--color-surface-secondary, #f5f5f5);border-bottom:1px solid var(--color-border, #e0e0e0);cursor:pointer;user-select:none;transition:background 150ms ease-out}.layer-panel-folder-header:hover{background:var(--color-surface-hover, #eeeeee)}.layer-panel-folder-header{}.layer-panel-folder-header--active{background:var(--color-primary-light, #e3f2fd);border-left:3px solid var(--color-primary, #1976d2);padding-left:5px}.layer-panel-folder-header--active:hover{background:var(--color-primary-lighter, #d1e9fc)}.layer-panel-folder-header{}.layer-panel-folder-header--empty{opacity:0.5;background:var(--color-surface-tertiary, #fafafa)}.layer-panel-folder-header--empty .layer-panel-folder-header__title{color:var(--color-text-secondary, #999)}.layer-panel-folder-header--empty:hover{opacity:0.6}.layer-panel-folder-header{}.layer-panel-folder-header__toggle{width:24px;height:24px;border:none;background:transparent;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.layer-panel-folder-header__toggle:hover{background:rgba(0, 0, 0, 0.05);border-radius:4px}.layer-panel-folder-header__toggle:focus{outline:2px solid var(--color-primary, #1976d2);outline-offset:2px;border-radius:4px}.layer-panel-folder-header{}.layer-panel-folder-header__toggle-icon{font-size:12px;color:var(--color-text-secondary, #666);transition:transform 200ms ease-out;display:inline-block}.layer-panel-folder-header--expanded .layer-panel-folder-header__toggle-icon{transform:rotate(0deg)}.layer-panel-folder-header:not(.layer-panel-folder-header--expanded) .layer-panel-folder-header__toggle-icon{transform:rotate(-90deg)}.layer-panel-folder-header{}.layer-panel-folder-header__title{flex:1;font-weight:600;font-size:13px;color:var(--color-text-primary, #333);margin-left:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.layer-panel-folder-header{}.layer-panel-folder-header__count{font-size:11px;color:var(--color-text-secondary, #666);background:var(--color-surface-tertiary, #e0e0e0);padding:2px 8px;border-radius:12px;font-weight:500;min-width:24px;text-align:center}.layer-panel-folder-header--active .layer-panel-folder-header__count{background:var(--color-primary, #1976d2);color:white}.layer-panel-folder-header--empty .layer-panel-folder-header__count{background:transparent;border:1px solid var(--color-border, #e0e0e0);color:var(--color-text-tertiary, #999)}";const i=class{constructor(a){e(this,a);this.toggleFolder=r(this,"toggleFolder",7);this.activateCanvas=r(this,"activateCanvas",7);this.scrollToCanvas=r(this,"scrollToCanvas",7);this.isExpanded=true;this.isActive=false;this.isEmpty=false;this.handleToggle=e=>{e.stopPropagation();this.toggleFolder.emit({canvasId:this.canvasId})};this.handleClick=()=>{this.activateCanvas.emit({canvasId:this.canvasId})};this.handleDblClick=()=>{this.scrollToCanvas.emit({canvasId:this.canvasId})}}render(){const e={"layer-panel-folder-header":true,"layer-panel-folder-header--active":this.isActive,"layer-panel-folder-header--expanded":this.isExpanded,"layer-panel-folder-header--empty":this.isEmpty};const r=this.totalItemCount!==undefined&&this.itemCount!==this.totalItemCount?`${this.itemCount} / ${this.totalItemCount}`:this.itemCount;return a("div",{key:"cbc7549c86a1d6db99c9422b3b68e835b7e25dbf",class:e,onClick:this.handleClick,onDblClick:this.handleDblClick},a("button",{key:"9d19a3cbe683d42984e6def490048508d57c4b05",class:"layer-panel-folder-header__toggle",onClick:this.handleToggle,title:this.isExpanded?"Collapse folder":"Expand folder"},a("span",{key:"89fdca61e83f9a2d4b1030e43a3fcd0643263c33",class:"layer-panel-folder-header__toggle-icon"},"â–¼")),a("div",{key:"e638714f87bbe15b35d40a104ead5ffdbe1b1820",class:"layer-panel-folder-header__title"},this.canvasTitle),a("div",{key:"c90d1d29cf996aa194e048bf05389c982737bc45",class:"layer-panel-folder-header__count"},r))}};i.style=o;const l='.layer-item{position:relative;display:flex;align-items:center;gap:8px;padding:8px;border-radius:4px;cursor:pointer;transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1), border-color 180ms cubic-bezier(0.4, 0, 0.2, 1), box-shadow 180ms cubic-bezier(0.4, 0, 0.2, 1), transform 120ms cubic-bezier(0.4, 0, 0.2, 1), opacity 120ms cubic-bezier(0.4, 0, 0.2, 1);background:#ffffff;border:1px solid #e0e0e0;margin-bottom:4px;user-select:none}.layer-item:hover{background:#f5f5f5;border-color:#4a90e2}.layer-item--active{background:#e3f2fd;border-color:#4a90e2;box-shadow:0 2px 4px rgba(74, 144, 226, 0.2)}.layer-item--active:hover{background:#d1e7f7}.layer-item.dragging{opacity:0.5;cursor:grabbing}.layer-item.drop-target{background:#f0f8ff;border-color:#4a90e2}.layer-item.drop-above::before{content:"";position:absolute;top:-2px;left:0;right:0;height:3px;background:#4a90e2;border-radius:2px;z-index:10;animation:dropIndicatorFadeIn 200ms cubic-bezier(0.4, 0, 0.2, 1)}.layer-item.drop-below::after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:3px;background:#4a90e2;border-radius:2px;z-index:10;animation:dropIndicatorFadeIn 200ms cubic-bezier(0.4, 0, 0.2, 1)}.layer-item__drag-handle{display:flex;align-items:center;justify-content:center;width:20px;height:20px;cursor:grab;color:#9e9e9e;font-size:12px;line-height:1;flex-shrink:0}.layer-item__drag-handle:hover{color:#4a90e2}.layer-item__drag-handle:active{cursor:grabbing}.layer-item__icon{font-size:20px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.layer-item__info{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.layer-item__name{font-size:14px;font-weight:500;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layer-item__meta{font-size:11px;color:#757575;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@keyframes dropIndicatorFadeIn{from{opacity:0;transform:scaleX(0.8)}to{opacity:1;transform:scaleX(1)}}';const d=class{constructor(a){e(this,a);this.layerItemSelect=r(this,"layerItemSelect",7);this.layerItemDragStart=r(this,"layerItemDragStart",7);this.layerItemDrop=r(this,"layerItemDrop",7);this.isActive=false;this.initializeDrag=()=>{this.hostElement.setAttribute("draggable","true");this.hostElement.addEventListener("dragstart",(e=>{if(e.dataTransfer){e.dataTransfer.effectAllowed="move";e.dataTransfer.setData("text/plain",JSON.stringify({itemId:this.itemId,canvasId:this.canvasId,zIndex:this.zIndex}))}this.hostElement.classList.add("dragging");this.layerItemDragStart.emit({itemId:this.itemId,canvasId:this.canvasId,zIndex:this.zIndex})}));this.hostElement.addEventListener("dragend",(()=>{this.hostElement.classList.remove("dragging","drop-above","drop-below","drop-target")}));this.hostElement.addEventListener("dragover",(e=>{e.preventDefault();if(e.dataTransfer){e.dataTransfer.dropEffect="move"}const r=this.hostElement.getBoundingClientRect();const a=r.top+r.height/2;const t=e.clientY<a;this.hostElement.classList.remove("drop-above","drop-below");this.hostElement.classList.add("drop-target",t?"drop-above":"drop-below")}));this.hostElement.addEventListener("dragleave",(()=>{this.hostElement.classList.remove("drop-target","drop-above","drop-below")}));this.hostElement.addEventListener("drop",(e=>{e.preventDefault();e.stopPropagation();const r=this.hostElement.getBoundingClientRect();const a=r.top+r.height/2;const t=e.clientY<a;const o=new CustomEvent("layer-item-dropped",{detail:{targetItemId:this.itemId,targetCanvasId:this.canvasId,targetZIndex:this.zIndex,dropAbove:t},bubbles:true,composed:true});this.hostElement.dispatchEvent(o);this.hostElement.classList.remove("drop-above","drop-below","drop-target")}))};this.handleClick=()=>{if(!this.isActive){this.layerItemSelect.emit({itemId:this.itemId,canvasId:this.canvasId})}}}componentDidLoad(){this.initializeDrag()}disconnectedCallback(){}getTypeIcon(){const e={header:"ğŸ“„",text:"ğŸ“",image:"ğŸ–¼ï¸",button:"ğŸ”˜",gallery:"ğŸ–¼ï¸",dashboard:"ğŸ“Š",livedata:"ğŸ“ˆ",card:"ğŸƒ",list:"ğŸ“‹"};return e[this.type]||"ğŸ“¦"}render(){const e={"layer-item":true,"layer-item--active":this.isActive};return a("div",{key:"a9671c21fb20922d9872fb10d527e8d59c3e1fb4",class:e,onClick:this.handleClick},a("div",{key:"b6d2aef0526b0ce94b1c16c7a6374d7024aa0ebc",class:"layer-item__drag-handle",title:"Drag to reorder"},"â‹®â‹®"),a("div",{key:"b5bfa30d7fdd506961a297a8e7cc49d9570bff46",class:"layer-item__icon"},this.getTypeIcon()),a("div",{key:"d234df1863d045acfaf147391e16c66514f31a4a",class:"layer-item__info"},a("div",{key:"774bf1f0f7779ffa0e5bdf12b9cb3bac6eafaf96",class:"layer-item__name"},this.name),a("div",{key:"9ade24a81cebde536b4775369d37f5082b06a3a2",class:"layer-item__meta"},this.type," Â· z:",this.zIndex)))}get hostElement(){return t(this)}};d.style=l;export{i as layer_panel_folder_header,d as layer_panel_item};
//# sourceMappingURL=p-e2212a90.entry.js.map