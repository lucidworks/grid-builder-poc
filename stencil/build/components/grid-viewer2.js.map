{"file":"grid-viewer2.js","mappings":"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","names":["__stencil_proxyCustomElement"],"sources":["src/components/grid-viewer/grid-viewer.scss?tag=grid-viewer","src/components/grid-viewer/grid-viewer.tsx"],"sourcesContent":["/**\n * Grid Viewer Styles\n * ===================\n *\n * Simplified styling for rendering-only grid viewer.\n * Based on grid-builder styles but without editing UI (palette, config panel).\n *\n * ## Key Differences from grid-builder.scss\n *\n * **Excluded**:\n * - ‚ùå Palette area styles (no component palette)\n * - ‚ùå Config panel styles (no configuration editing)\n * - ‚ùå Selection styles (no item selection)\n * - ‚ùå Resize handle styles (no resizing)\n *\n * **Included**:\n * - ‚úÖ Canvas area layout\n * - ‚úÖ Responsive container\n * - ‚úÖ Theme variables\n *\n * @module grid-viewer-styles\n */\n\n/**\n * CSS Custom Properties (Theme Variables)\n *\n * **Default theme**: Bootstrap-inspired blue\n * **Overridable**: Via theme prop\n */\n:host {\n  // Color scheme\n  --grid-viewer-primary-color: #007bff;\n  --grid-viewer-canvas-bg: #ffffff;\n  --grid-viewer-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n\n  // Layout\n  display: block;\n  width: 100%;\n  height: 100%;\n  font-family: var(--grid-viewer-font-family);\n}\n\n/**\n * Main Container\n *\n * **Layout**: Full width/height for embedding\n * **Simplified**: No grid layout (only canvas area)\n */\n.grid-viewer-container {\n  width: 100%;\n  height: 100%;\n  background: var(--grid-viewer-canvas-bg);\n  overflow: auto;\n}\n\n/**\n * Canvas Area\n *\n * **Layout**: Full width/height (no palette or config panel)\n * **Scrolling**: Vertical scroll for multiple canvases\n */\n.canvas-area {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n/**\n * Canvases Container\n *\n * **Layout**: Vertical stack of canvas sections\n * **Spacing**: Gap between canvases\n */\n.canvases-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0; // No gap - canvases stack seamlessly\n  width: 100%;\n  min-height: 100%;\n}\n","/**\n * Grid Viewer - Rendering-Only Component\n * ========================================\n *\n * Lightweight component for rendering grid layouts without editing functionality.\n * Designed to be used in viewer apps where layouts are created in grid-builder\n * and displayed in grid-viewer.\n *\n * ## Design Philosophy\n *\n * **Separation of concerns**:\n * - Builder app: grid-builder with full editing (~150KB with interact.js)\n * - Viewer app: grid-viewer for display only (~30KB, 80% smaller)\n * - Same component definitions, different rendering modes\n *\n * **Export/Import workflow**:\n * ```typescript\n * // Builder App ‚Üí Export layout\n * const builder = document.querySelector('grid-builder');\n * const exportData = await builder.exportState();\n * await saveToAPI(exportData);\n *\n * // Viewer App ‚Üí Import and display layout\n * const layout = await loadFromAPI();\n * const viewer = document.querySelector('grid-viewer');\n * viewer.initialState = layout;\n * ```\n *\n * ## What's Excluded from Viewer\n *\n * **No editing features**:\n * - ‚ùå No drag-and-drop (no interact.js)\n * - ‚ùå No component palette\n * - ‚ùå No config panel\n * - ‚ùå No item selection\n * - ‚ùå No resize handles\n * - ‚ùå No undo/redo\n *\n * **Only rendering features**:\n * - ‚úÖ Responsive layouts (desktop/mobile)\n * - ‚úÖ Container-based viewport switching\n * - ‚úÖ Virtual rendering for performance\n * - ‚úÖ Theme customization\n * - ‚úÖ Component registry for dynamic rendering\n *\n * ## Bundle Size Impact\n *\n * **Builder**: ~150KB (includes interact.js ~45KB)\n * **Viewer**: ~30KB (no interact.js, no editing logic)\n * **Reduction**: 80% smaller bundle\n *\n * @module grid-viewer\n */\n\nimport { Component, Element, h, Host, Prop, State, Watch } from '@stencil/core';\n\n// Type imports\nimport { ComponentDefinition } from '../../types/component-definition';\nimport { GridConfig } from '../../types/grid-config';\nimport { GridBuilderTheme } from '../../types/theme';\nimport { GridExport } from '../../types/grid-export';\n\n// Service imports - only rendering-related, no editing\nimport { ViewerState } from '../../services/state-manager';\nimport { createStore } from '@stencil/store';\nimport { createDebugLogger } from '../../utils/debug';\n\nconst debug = createDebugLogger('grid-viewer');\n\n/**\n * GridViewer Component\n * ====================\n *\n * Rendering-only grid component for displaying layouts created in grid-builder.\n *\n * **Tag**: `<grid-viewer>`\n * **Shadow DOM**: Disabled (consistent with grid-builder)\n * **Reactivity**: Uses local store for viewer state\n *\n * **Key differences from grid-builder**:\n * - No interact.js dependency (80% bundle size reduction)\n * - No palette, config panel, or editing UI\n * - Simplified state (no selection, no z-index tracking)\n * - Rendering-only canvas sections\n */\n@Component({\n  tag: 'grid-viewer',\n  styleUrl: 'grid-viewer.scss',\n  shadow: false, // Light DOM for consistency with grid-builder\n})\nexport class GridViewer {\n  /**\n   * Component definitions registry\n   *\n   * **Required prop**: Array of ComponentDefinition objects\n   * **Purpose**: Defines how to render each component type\n   *\n   * **Must match builder definitions**: Same component types as used in builder\n   *\n   * **Example**:\n   * ```typescript\n   * const components = [\n   *   {\n   *     type: 'header',\n   *     name: 'Header',\n   *     icon: 'üìÑ',\n   *     render: ({ itemId, config }) => (\n   *       <my-header itemId={itemId} config={config} />\n   *     )\n   *   }\n   * ];\n   * ```\n   */\n  @Prop() components!: ComponentDefinition[];\n\n  /**\n   * Grid configuration options\n   *\n   * **Optional prop**: Grid system configuration\n   * **Default**: Standard 2% grid with 10px-50px constraints\n   *\n   * **Should match builder config**: Use same config as builder for consistent rendering\n   */\n  @Prop() config?: GridConfig;\n\n  /**\n   * Visual theme customization\n   *\n   * **Optional prop**: Customizes colors, fonts, and styling\n   * **Default**: Bootstrap-inspired blue theme\n   */\n  @Prop() theme?: GridBuilderTheme;\n\n  /**\n   * Initial state to display\n   *\n   * **Optional prop**: Layout data to render\n   * **Accepts**: ViewerState or GridExport (both compatible)\n   *\n   * **From builder export**:\n   * ```typescript\n   * const exportData = await builder.exportState();\n   * viewer.initialState = exportData; // Type-safe!\n   * ```\n   *\n   * **From API**:\n   * ```typescript\n   * const layout = await fetch('/api/layouts/123').then(r => r.json());\n   * viewer.initialState = layout;\n   * ```\n   */\n  @Prop() initialState?: Partial<ViewerState> | GridExport;\n\n  /**\n   * Canvas metadata storage (host app responsibility)\n   *\n   * **Optional prop**: Store canvas-level presentation metadata\n   * **Purpose**: Host app owns canvas metadata (titles, colors, settings)\n   *\n   * **Structure**: Record<canvasId, any>\n   *\n   * **Example**:\n   * ```typescript\n   * const canvasMetadata = {\n   *   'hero-section': {\n   *     backgroundColor: '#f0f4f8',\n   *     customSettings: { ... }\n   *   }\n   * };\n   * ```\n   */\n  @Prop() canvasMetadata?: Record<string, any>;\n\n  /**\n   * Component registry (internal state)\n   *\n   * **Purpose**: Map component type ‚Üí definition for lookup\n   * **Built from**: components prop\n   */\n  @State() private componentRegistry: Map<string, ComponentDefinition> = new Map();\n\n  /**\n   * Local viewer state store\n   *\n   * **Purpose**: Minimal state for rendering (no editing state)\n   * **Structure**: ViewerState with canvases and currentViewport\n   */\n  private viewerState!: { state: ViewerState };\n\n  /**\n   * Host element reference\n   */\n  @Element() private hostElement!: HTMLElement;\n\n  /**\n   * ResizeObserver for container-based viewport switching\n   *\n   * **Purpose**: Automatically switch between desktop/mobile viewports based on container width\n   * **Breakpoint**: 768px (container width, not window width)\n   */\n  private viewportResizeObserver?: ResizeObserver;\n\n  /**\n   * Component will load lifecycle\n   *\n   * **Purpose**: Initialize component registry and viewer state\n   */\n  componentWillLoad() {\n    // Validate required props\n    if (!this.components || this.components.length === 0) {\n      console.error('GridViewer: components prop is required');\n      return;\n    }\n\n    // Build component registry\n    this.componentRegistry = new Map(\n      this.components.map(comp => [comp.type, comp])\n    );\n\n    // Validate unique component types\n    if (this.componentRegistry.size !== this.components.length) {\n      console.warn('GridViewer: Duplicate component types detected');\n    }\n\n    // Initialize local viewer state store\n    const initialViewerState: ViewerState = {\n      canvases: {},\n      currentViewport: 'desktop',\n    };\n\n    // Restore initial state if provided\n    if (this.initialState) {\n      // Handle both ViewerState and GridExport formats\n      if ('viewport' in this.initialState) {\n        // GridExport format\n        initialViewerState.currentViewport = this.initialState.viewport;\n        initialViewerState.canvases = this.initialState.canvases as Record<string, any>;\n      } else {\n        // ViewerState format\n        Object.assign(initialViewerState, this.initialState);\n      }\n    }\n\n    // Create local store (not global like grid-builder)\n    this.viewerState = createStore<ViewerState>(initialViewerState);\n  }\n\n  /**\n   * Component did load lifecycle\n   *\n   * **Purpose**: Apply theme and setup viewport switching\n   */\n  componentDidLoad() {\n    // Apply theme\n    if (this.theme) {\n      this.applyTheme(this.theme);\n    }\n\n    // Setup container-based viewport switching\n    this.setupViewportResizeObserver();\n  }\n\n  /**\n   * Disconnected callback (cleanup)\n   *\n   * **Purpose**: Clean up ResizeObserver\n   */\n  disconnectedCallback() {\n    // Cleanup ResizeObserver\n    if (this.viewportResizeObserver) {\n      this.viewportResizeObserver.disconnect();\n    }\n  }\n\n  /**\n   * Watch components prop for changes\n   *\n   * **Purpose**: Rebuild component registry when components prop changes\n   */\n  @Watch('components')\n  handleComponentsChange(newComponents: ComponentDefinition[]) {\n    this.componentRegistry = new Map(\n      newComponents.map(comp => [comp.type, comp])\n    );\n  }\n\n  /**\n   * Watch initialState prop for changes\n   *\n   * **Purpose**: Update viewer state when initialState prop changes\n   */\n  @Watch('initialState')\n  handleInitialStateChange(newState: Partial<ViewerState> | GridExport) {\n    if (newState) {\n      // Handle both ViewerState and GridExport formats\n      if ('viewport' in newState) {\n        // GridExport format\n        this.viewerState.state.currentViewport = newState.viewport;\n        this.viewerState.state.canvases = newState.canvases as Record<string, any>;\n      } else {\n        // ViewerState format\n        Object.assign(this.viewerState.state, newState);\n      }\n    }\n  }\n\n  /**\n   * Apply theme via CSS variables\n   *\n   * **Purpose**: Apply theme customization to host element\n   * **Implementation**: Set CSS custom properties on :host\n   */\n  private applyTheme(theme: GridBuilderTheme) {\n    const host = this.el;\n    if (!host) return;\n\n    // Apply predefined theme properties\n    if (theme.primaryColor) {\n      host.style.setProperty('--grid-viewer-primary-color', theme.primaryColor);\n    }\n    if (theme.canvasBackground) {\n      host.style.setProperty('--grid-viewer-canvas-bg', theme.canvasBackground);\n    }\n    if (theme.fontFamily) {\n      host.style.setProperty('--grid-viewer-font-family', theme.fontFamily);\n    }\n\n    // Apply custom properties\n    if (theme.customProperties) {\n      Object.entries(theme.customProperties).forEach(([key, value]) => {\n        host.style.setProperty(key, value);\n      });\n    }\n  }\n\n  /**\n   * Setup ResizeObserver for container-based viewport switching\n   *\n   * **Purpose**: Automatically switch between desktop/mobile viewports based on container width\n   * **Breakpoint**: 768px (container width, not window viewport)\n   *\n   * **Reused from grid-builder**: Same implementation for consistency\n   */\n  private setupViewportResizeObserver = () => {\n    if (!this.hostElement) {\n      return;\n    }\n\n    // Watch for grid-viewer container size changes\n    this.viewportResizeObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        // Get container width directly from the element\n        // Note: We use offsetWidth instead of entry.contentRect.width because\n        // the grid-viewer uses Light DOM and contentRect returns 0 for elements with height: 100%\n        const width = this.hostElement.offsetWidth || entry.borderBoxSize?.[0]?.inlineSize || entry.contentRect.width;\n\n        // Skip viewport switching if width is 0 or very small (container not yet laid out)\n        // This prevents premature switching to mobile before CSS layout is complete\n        if (width < 100) {\n          debug.log(`üì± [Viewer] Skipping viewport switch - container not yet laid out (width: ${Math.round(width)}px)`);\n          return;\n        }\n\n        // Determine target viewport based on container width\n        const targetViewport = width < 768 ? 'mobile' : 'desktop';\n\n        // Only update if viewport changed\n        if (this.viewerState.state.currentViewport !== targetViewport) {\n          debug.log(`üì± [Viewer] Container-based viewport switch: ${this.viewerState.state.currentViewport} ‚Üí ${targetViewport} (width: ${Math.round(width)}px)`);\n          this.viewerState.state.currentViewport = targetViewport;\n        }\n      }\n    });\n\n    this.viewportResizeObserver.observe(this.hostElement);\n  };\n\n  /**\n   * Reference to host element\n   */\n  private el?: HTMLElement;\n\n  /**\n   * Render component template\n   *\n   * **Purpose**: Render canvases with items (no palette, no config panel)\n   *\n   * **Structure**:\n   * - Host element with theme classes\n   * - Canvas area with sections\n   * - No palette (viewing only)\n   * - No config panel (viewing only)\n   */\n  render() {\n    const canvasIds = Object.keys(this.viewerState.state.canvases);\n\n    return (\n      <Host ref={(el) => this.el = el}>\n        <div class=\"grid-viewer-container\">\n          {/* Canvas Area Only (no palette, no config panel) */}\n          <div class=\"canvas-area\">\n            <div class=\"canvases-container\">\n              {canvasIds.map((canvasId) => (\n                <canvas-section-viewer\n                  key={canvasId}\n                  canvasId={canvasId}\n                  config={this.config}\n                  componentRegistry={this.componentRegistry}\n                  items={this.viewerState.state.canvases[canvasId].items}\n                  currentViewport={this.viewerState.state.currentViewport}\n                  backgroundColor={this.canvasMetadata?.[canvasId]?.backgroundColor}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}