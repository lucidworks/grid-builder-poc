{"version":3,"names":["registerInstance","h","interact","setActiveCanvas","state","onChange","clearGridSizeCache","gridToPixelsX","gridToPixelsY","getGridSizeVertical","calculateCanvasHeight","canvasSectionCss","CanvasSection","constructor","hostRef","this","isActive","renderVersion","calculatedHeight","isDropTarget","dropzoneInitialized","setupCanvasClickListener","gridContainerRef","addEventListener","event","target","canvasId","canvasActivatedEvent","CustomEvent","detail","bubbles","composed","dispatchEvent","canvasClickEvent","setupResizeObserver","resizeObserver","ResizeObserver","observe","initializeDropzone","interactable","dropzone","accept","overlap","listeners","dragenter","_event","dragleave","drop","droppedElement","relatedTarget","isPaletteItem","classList","contains","_dropWasValid","isGridItemHeader","isGridItem","gridItem","closest","componentType","getAttribute","defaultWidth","_defaultWidth","defaultHeight","_defaultHeight","widthPx","config","heightPx","halfWidth","halfHeight","rect","getBoundingClientRect","x","dragEvent","clientX","left","y","clientY","top","dropEvent","itemId","id","sourceCanvasId","droppedRect","moveEvent","targetCanvasId","componentWillLoad","canvas","canvases","error","console","debug","componentWillUpdate","componentDidLoad","disconnectedCallback","unset","disconnect","handleCanvasIdChange","newCanvasId","oldCanvasId","handleConfigChange","newConfig","oldConfig","handleIsActiveChange","newIsActive","oldIsActive","render","_a","_b","_c","showGrid","verticalGridSize","minHeightGridUnits","canvasMinHeight","minHeightPx","key","class","active","style","Object","assign","backgroundColor","backgroundSize","minHeight","height","ref","el","items","map","item","componentRegistry","onBeforeDelete","watchers","componentPaletteCss","ComponentPalette","showHeader","draggingItemType","initializePaletteItems","paletteItems","document","querySelectorAll","forEach","element","_dragInitialized","draggable","inertia","autoScroll","start","paletteRect","_originalPosition","definition","components","find","c","type","warn","defaultSize","width","gridState","window","canvasIds","keys","length","estimatedGridSize","dragClone","createElement","className","position","pointerEvents","zIndex","renderDragClone","customHTML","name","icon","innerHTML","padding","background","color","borderRadius","body","appendChild","_dragClone","_halfWidth","_halfHeight","move","end","dropWasValid","originalPos","transition","opacity","setTimeout","remove","handleComponentsChange","newComponents","oldComponents","requestAnimationFrame","componentDidUpdate","paletteClasses","palette","component","itemClasses","renderPaletteItem"],"sources":["0"],"mappings":"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","ignoreList":[]}