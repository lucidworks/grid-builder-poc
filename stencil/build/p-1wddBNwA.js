class n{constructor(){this.canvases=new Map}getCanvas(n){if(this.canvases.has(n)){return this.canvases.get(n)}const t=document.getElementById(n);if(t){this.canvases.set(n,t)}return t}invalidate(n){this.canvases.delete(n)}clear(){this.canvases.clear()}}const t=new n;const o=20;const i=.02;const s=10;const r=50;const e=new Map;function c(){e.clear()}function a(n,o,c=false){var a,u;const l=`${n}-h`;if(!c&&e.has(l)){return e.get(l)}const d=t.getCanvas(n);if(!d){console.warn(`Canvas container not found: ${n}`);return 0}const v=(o===null||o===void 0?void 0:o.gridSizePercent)?o.gridSizePercent/100:i;const f=d.clientWidth*v;const h=(a=o===null||o===void 0?void 0:o.minGridSize)!==null&&a!==void 0?a:s;const p=(u=o===null||o===void 0?void 0:o.maxGridSize)!==null&&u!==void 0?u:r;const M=Math.max(h,Math.min(p,f));e.set(l,M);return M}function u(n){var t;return(t=n===null||n===void 0?void 0:n.verticalGridSize)!==null&&t!==void 0?t:o}function l(n,t,o){const i=a(t,o);return Math.round(n*i)}function d(n,t){return n*u(t)}function v(n,t,o){const i=a(t,o);if(i===0){return 0}return Math.round(n/i)}function f(n,t){return Math.round(n/u(t))}var h=Object.freeze({__proto__:null,clearGridSizeCache:c,getGridSizeHorizontal:a,getGridSizeVertical:u,gridToPixelsX:l,gridToPixelsY:d,pixelsToGridX:v,pixelsToGridY:f});export{u as a,l as b,c,t as d,a as e,f,d as g,h,v as p};
//# sourceMappingURL=p-1wddBNwA.js.map