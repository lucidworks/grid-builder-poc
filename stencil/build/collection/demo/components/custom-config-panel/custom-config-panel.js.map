{"version":3,"file":"custom-config-panel.js","sourceRoot":"","sources":["../../../../src/demo/components/custom-config-panel/custom-config-panel.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Custom Config Panel (Demo Component)\n * ======================================\n *\n * Custom configuration panel for the blog demo app.\n * Demonstrates how to create an external config panel that works alongside grid-builder.\n *\n * **Key Features**:\n * - Custom styling to match blog theme (purple gradient)\n * - Auto-close when selected item is deleted (via itemRemoved event)\n * - Uses manual event listeners for item-click events (Stencil @Listen doesn't work for custom events)\n * - Receives GridBuilderAPI as a prop from parent component\n * - Demonstrates proper event subscription/unsubscription pattern\n *\n * **API Access Pattern**:\n * - Parent (blog-app) stores API on component instance via api-ref={{ target: this, key: 'api' }}\n * - Parent passes API to this component via api prop\n * - This allows multiple grid-builder instances without window pollution\n */\n\nimport { Component, h, State, Prop, Watch } from '@stencil/core';\nimport { blogComponentDefinitions } from '../../component-definitions';\nimport { GridBuilderAPI } from '../../../types/api';\n\n@Component({\n  tag: 'custom-config-panel',\n  styleUrl: 'custom-config-panel.scss',\n  shadow: false,\n})\nexport class CustomConfigPanel {\n  /**\n   * Grid Builder API (accessed from window.gridBuilderAPI or passed as prop)\n   *\n   * **Source**: window.gridBuilderAPI (set by grid-builder component)\n   * **Purpose**: Access grid state and methods\n   * **Required**: Component won't work without valid API reference\n   */\n  @Prop() api?: GridBuilderAPI;\n\n  /**\n   * Panel open/closed state\n   */\n  @State() isOpen: boolean = false;\n\n  /**\n   * Currently selected item ID\n   */\n  @State() selectedItemId: string | null = null;\n\n  /**\n   * Currently selected canvas ID\n   */\n  @State() selectedCanvasId: string | null = null;\n\n  /**\n   * Component config (temporary edit state)\n   */\n  @State() componentConfig: Record<string, any> = {};\n\n  /**\n   * Component name (temporary edit state)\n   */\n  @State() componentName: string = '';\n\n  /**\n   * Original state for cancel functionality\n   */\n  private originalState: {\n    name: string;\n    zIndex: number;\n    config: Record<string, any>;\n  } | null = null;\n\n  /**\n   * Component registry (from blog component definitions)\n   */\n  private componentRegistry: Map<string, any> = new Map();\n\n  /**\n   * Flag to track if we've subscribed to events\n   */\n  private eventsSubscribed: boolean = false;\n\n  /**\n   * Callback for itemRemoved event (stored for unsubscribe)\n   */\n  private handleItemRemoved = (event: { itemId: string; canvasId: string }) => {\n    console.log('ðŸŽ¨ custom-config-panel received itemRemoved event', {\n      eventItemId: event.itemId,\n      selectedItemId: this.selectedItemId,\n      isOpen: this.isOpen,\n    });\n\n    // Close panel if the deleted item is the currently selected one\n    if (this.isOpen && this.selectedItemId && event.itemId === this.selectedItemId) {\n      console.log('  âœ… Custom panel: Closing because selected item was deleted');\n      this.closePanel();\n    }\n  };\n\n  /**\n   * Get API (from prop or window)\n   */\n  private getAPI(): GridBuilderAPI | null {\n    // Use prop if provided, otherwise try window\n    return this.api || (window as any).gridBuilderAPI || null;\n  }\n\n  /**\n   * Ensure event subscription is set up (lazy initialization)\n   */\n  private ensureEventSubscription() {\n    if (this.eventsSubscribed) {\n      return;\n    }\n\n    const api = this.getAPI();\n    if (!api) {\n      return; // API not ready yet, will try again later\n    }\n\n    // Subscribe to itemRemoved events via API\n    api.on('itemRemoved', this.handleItemRemoved);\n    this.eventsSubscribed = true;\n    console.log('  âœ… Custom panel: Subscribed to itemRemoved event');\n  }\n\n  /**\n   * Watch for API prop changes\n   */\n  @Watch('api')\n  handleApiChange(newApi: GridBuilderAPI, oldApi: GridBuilderAPI) {\n    console.log('ðŸŽ¨ custom-config-panel API prop changed', {\n      hadOldApi: !!oldApi,\n      hasNewApi: !!newApi,\n      newApiType: typeof newApi,\n    });\n\n    // When API becomes available, ensure event subscription\n    if (newApi && !this.eventsSubscribed) {\n      this.ensureEventSubscription();\n    }\n  }\n\n  componentDidLoad() {\n    console.log('ðŸŽ¨ custom-config-panel componentDidLoad - setting up component registry');\n    const api = this.getAPI();\n    console.log('  ðŸ”§ API status:', {\n      apiExists: !!api,\n      apiType: typeof api,\n      fromProp: !!this.api,\n      fromWindow: !!(window as any).gridBuilderAPI,\n    });\n\n    // Build component registry from blog component definitions\n    // This doesn't depend on the API being available\n    this.componentRegistry = new Map(\n      blogComponentDefinitions.map(def => [def.type, def])\n    );\n\n    // Try to subscribe to events (will retry on first item click if API not ready)\n    this.ensureEventSubscription();\n\n    // Listen for item-click events\n    // Note: Stencil's @Listen decorator doesn't work reliably for custom events on document\n    // so we use manual event listeners instead\n    document.addEventListener('item-click', this.handleItemClick as EventListener);\n    console.log('  âœ… Custom panel: Listening for item-click events');\n  }\n\n  disconnectedCallback() {\n    console.log('ðŸŽ¨ custom-config-panel disconnectedCallback - cleaning up');\n\n    // Unsubscribe from itemRemoved events\n    const api = this.getAPI();\n    if (api && this.eventsSubscribed) {\n      api.off('itemRemoved', this.handleItemRemoved);\n      this.eventsSubscribed = false;\n    }\n\n    // Remove item-click event listener\n    document.removeEventListener('item-click', this.handleItemClick as EventListener);\n  }\n\n  /**\n   * Handle item-click events from the document\n   */\n  private handleItemClick = (event: CustomEvent) => {\n    console.log('ðŸŽ¨ custom-config-panel handleItemClick called', event.detail);\n\n    // Ensure event subscription is set up (retry if it failed in componentDidLoad)\n    this.ensureEventSubscription();\n\n    const { itemId, canvasId } = event.detail;\n    this.selectedItemId = itemId;\n    this.selectedCanvasId = canvasId;\n\n    // Get item from API\n    const api = this.getAPI();\n    console.log('  ðŸ”§ API exists:', !!api);\n\n    const item = api?.getItem(itemId);\n    console.log('  ðŸ”§ Item retrieved:', !!item, item);\n\n    if (!item) {\n      console.log('  âŒ No item found - exiting');\n      return;\n    }\n\n    // Get component definition\n    const definition = this.componentRegistry.get(item.type);\n    console.log('  ðŸ”§ Definition found:', !!definition, definition?.name);\n\n    // Save original state for cancel functionality\n    this.originalState = {\n      name: item.name || definition?.name || item.type,\n      zIndex: item.zIndex,\n      config: item.config ? { ...item.config } : {},\n    };\n\n    // Populate form\n    this.componentName = this.originalState.name;\n    this.componentConfig = { ...this.originalState.config };\n\n    // Open panel\n    console.log('  ðŸšª Opening panel - setting isOpen = true');\n    this.isOpen = true;\n    console.log('  âœ… Panel should now be open, isOpen =', this.isOpen);\n  }\n\n  /**\n   * Close panel and revert changes\n   */\n  private closePanel = () => {\n    // Revert changes on cancel by restoring original state\n    const api = this.getAPI();\n    if (this.selectedItemId && this.selectedCanvasId && this.originalState && api) {\n      // Revert config changes\n      api.updateConfig(this.selectedItemId, this.originalState.config);\n\n      // Revert name changes\n      const state = api.getState();\n      for (const canvasId in state.canvases) {\n        const canvas = state.canvases[canvasId];\n        const itemIndex = canvas.items.findIndex(i => i.id === this.selectedItemId);\n        if (itemIndex !== -1) {\n          canvas.items[itemIndex] = {\n            ...canvas.items[itemIndex],\n            name: this.originalState.name\n          };\n          // Trigger reactivity\n          state.canvases = { ...state.canvases };\n          break;\n        }\n      }\n    }\n\n    this.isOpen = false;\n    this.selectedItemId = null;\n    this.selectedCanvasId = null;\n    this.componentName = '';\n    this.componentConfig = {};\n    this.originalState = null;\n  };\n\n  /**\n   * Save config changes\n   */\n  private saveConfig = () => {\n    // Changes are already applied live, so just close without reverting\n    this.isOpen = false;\n    this.selectedItemId = null;\n    this.selectedCanvasId = null;\n    this.componentName = '';\n    this.componentConfig = {};\n    this.originalState = null;\n  };\n\n  /**\n   * Handle component name change\n   */\n  private handleNameChange = (event: Event) => {\n    const value = (event.target as HTMLInputElement).value;\n    this.componentName = value;\n\n    // Update the item name (live preview)\n    const api = this.getAPI();\n    if (this.selectedItemId && api) {\n      // Get the full state to access canvases\n      const state = api.getState();\n\n      // Find and update the item across all canvases\n      for (const canvasId in state.canvases) {\n        const canvas = state.canvases[canvasId];\n        const itemIndex = canvas.items.findIndex(i => i.id === this.selectedItemId);\n        if (itemIndex !== -1) {\n          // Update the name property\n          canvas.items[itemIndex] = {\n            ...canvas.items[itemIndex],\n            name: value\n          };\n          // Trigger reactivity by reassigning canvases object\n          state.canvases = { ...state.canvases };\n          break;\n        }\n      }\n    }\n  };\n\n  /**\n   * Handle config field change\n   */\n  private handleConfigChange = (fieldName: string, value: any) => {\n    // Update local config state\n    this.componentConfig = { ...this.componentConfig, [fieldName]: value };\n\n    // Apply changes immediately (live preview) via API\n    const api = this.getAPI();\n    if (this.selectedItemId && api) {\n      api.updateConfig(this.selectedItemId, this.componentConfig);\n    }\n  };\n\n  render() {\n    if (!this.isOpen) {\n      return null;\n    }\n\n    // Get item from API\n    const api = this.getAPI();\n    const item = api?.getItem(this.selectedItemId);\n    if (!item) {\n      return null;\n    }\n\n    const definition = this.componentRegistry.get(item.type);\n    if (!definition) {\n      return null;\n    }\n\n    const panelClasses = {\n      'custom-config-panel': true,\n      'panel-open': this.isOpen,\n    };\n\n    return (\n      <div class={panelClasses}>\n        <div class=\"custom-panel-header\">\n          <div class=\"header-content\">\n            <span class=\"component-icon\">{definition.icon}</span>\n            <h2>Edit Component</h2>\n          </div>\n          <button\n            class=\"close-btn\"\n            onClick={() => this.closePanel()}\n            title=\"Close\"\n          >\n            âœ•\n          </button>\n        </div>\n\n        <div class=\"custom-panel-body\">\n          {/* Component Name */}\n          <div class=\"config-section\">\n            <label class=\"section-label\">Component Name</label>\n            <input\n              type=\"text\"\n              class=\"text-input\"\n              value={this.componentName}\n              placeholder=\"Enter component name\"\n              onInput={(e) => this.handleNameChange(e)}\n            />\n          </div>\n\n          {/* Component Type Info */}\n          <div class=\"config-section info-section\">\n            <div class=\"info-row\">\n              <span class=\"info-label\">Type:</span>\n              <span class=\"info-value\">{definition.name}</span>\n            </div>\n            <div class=\"info-row\">\n              <span class=\"info-label\">ID:</span>\n              <span class=\"info-value\">{item.id}</span>\n            </div>\n          </div>\n\n          {/* Config Fields */}\n          {definition.configSchema && definition.configSchema.length > 0 ? (\n            <div class=\"config-section\">\n              <label class=\"section-label\">Configuration</label>\n              {definition.configSchema.map((field: any) => (\n                <div class=\"config-field\" key={field.name}>\n                  <label class=\"field-label\">{field.label}</label>\n                  {this.renderConfigField(field)}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div class=\"config-section\">\n              <p class=\"no-config-message\">\n                No configuration options available for this component.\n              </p>\n            </div>\n          )}\n        </div>\n\n        <div class=\"custom-panel-footer\">\n          <button\n            class=\"btn btn-secondary\"\n            onClick={() => this.closePanel()}\n          >\n            Cancel\n          </button>\n          <button\n            class=\"btn btn-primary\"\n            onClick={() => this.saveConfig()}\n          >\n            Save Changes\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Render a single config field\n   */\n  private renderConfigField(field: any) {\n    const value = this.componentConfig[field.name] ?? field.defaultValue ?? '';\n\n    switch (field.type) {\n      case 'text':\n      case 'textarea':\n        return (\n          <input\n            type=\"text\"\n            class=\"text-input\"\n            value={value}\n            onInput={(e) => this.handleConfigChange(field.name, (e.target as HTMLInputElement).value)}\n            placeholder={field.placeholder}\n          />\n        );\n\n      case 'number':\n        return (\n          <input\n            type=\"number\"\n            class=\"text-input\"\n            value={value}\n            onInput={(e) => this.handleConfigChange(field.name, Number((e.target as HTMLInputElement).value))}\n            min={field.min}\n            max={field.max}\n            step={field.step}\n          />\n        );\n\n      case 'select':\n        return (\n          <select\n            class=\"select-input\"\n            onChange={(e) => this.handleConfigChange(field.name, (e.target as HTMLSelectElement).value)}\n          >\n            {field.options?.map((option: any) => {\n              const optionValue = typeof option === 'string' ? option : option.value;\n              const optionLabel = typeof option === 'string' ? option : option.label;\n              return (\n                <option key={optionValue} value={optionValue} selected={value === optionValue}>\n                  {optionLabel}\n                </option>\n              );\n            })}\n          </select>\n        );\n\n      case 'checkbox':\n        return (\n          <label class=\"checkbox-label\">\n            <input\n              type=\"checkbox\"\n              checked={!!value}\n              onChange={(e) => this.handleConfigChange(field.name, (e.target as HTMLInputElement).checked)}\n            />\n            <span class=\"checkbox-text\">{field.label}</span>\n          </label>\n        );\n\n      case 'color':\n        return (\n          <div class=\"color-input-wrapper\">\n            <input\n              type=\"color\"\n              class=\"color-input\"\n              value={value}\n              onInput={(e) => this.handleConfigChange(field.name, (e.target as HTMLInputElement).value)}\n            />\n            <span class=\"color-value\">{value}</span>\n          </div>\n        );\n\n      default:\n        return <p class=\"field-error\">Unknown field type: {field.type}</p>;\n    }\n  }\n}\n"]}