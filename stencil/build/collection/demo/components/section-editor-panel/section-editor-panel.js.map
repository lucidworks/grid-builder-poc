{"version":3,"file":"section-editor-panel.js","sourceRoot":"","sources":["../../../../src/demo/components/section-editor-panel/section-editor-panel.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAgB,KAAK,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAGtF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmCG;AAMH,MAAM,OAAO,kBAAkB;IAL/B;QAME;;;WAGG;QACK,WAAM,GAAY,KAAK,CAAC;QAEhC;;;WAGG;QACK,gBAAW,GAA6B,IAAI,CAAC;QAoCrD;;;WAGG;QACM,gBAAW,GAAW,EAAE,CAAC;QACzB,gBAAW,GAAW,EAAE,CAAC;QAElC;;;WAGG;QACK,kBAAa,GAAW,EAAE,CAAC;QAC3B,kBAAa,GAAW,EAAE,CAAC;QAuB3B,gBAAW,GAAG,GAAG,EAAE;YACzB,sCAAsC;YACtC,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBAC3B,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;oBACnC,eAAe,EAAE,IAAI,CAAC,aAAa;iBACpC,CAAC,CAAC;gBACH,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBAC3B,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;oBACnC,KAAK,EAAE,IAAI,CAAC,aAAa;iBAC1B,CAAC,CAAC;YACL,CAAC;YACD,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACzB,CAAC,CAAC;QAEM,eAAU,GAAG,GAAG,EAAE;YACxB,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;oBACtB,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;oBACnC,KAAK,EAAE,IAAI,CAAC,WAAW;oBACvB,eAAe,EAAE,IAAI,CAAC,WAAW;iBAClC,CAAC,CAAC;gBACH,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YACzB,CAAC;QACH,CAAC,CAAC;QAEM,iBAAY,GAAG,GAAG,EAAE;YAC1B,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;oBACtB,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;iBACpC,CAAC,CAAC;gBACH,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YACzB,CAAC;QACH,CAAC,CAAC;QAEM,qBAAgB,GAAG,CAAC,CAAQ,EAAE,EAAE;YACtC,IAAI,CAAC,WAAW,GAAI,CAAC,CAAC,MAA2B,CAAC,KAAK,CAAC;YAExD,2CAA2C;YAC3C,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBAC3B,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;oBACnC,KAAK,EAAE,IAAI,CAAC,WAAW;iBACxB,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC;QAEM,qBAAgB,GAAG,CAAC,CAAQ,EAAE,EAAE;YACtC,IAAI,CAAC,WAAW,GAAI,CAAC,CAAC,MAA2B,CAAC,KAAK,CAAC;YAExD,2CAA2C;YAC3C,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBAC3B,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;oBACnC,eAAe,EAAE,IAAI,CAAC,WAAW;iBAClC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC;KAoEH;IAjJC,uBAAuB,CAAC,OAAiC;QACvD,IAAI,OAAO,EAAE,CAAC;YACZ,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,eAAe,CAAC;YAC3C,6CAA6C;YAC7C,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,eAAe,CAAC;YAC7C,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC;QACrC,CAAC;IACH,CAAC;IAED,iBAAiB;QACf,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC1C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC;YACpD,6CAA6C;YAC7C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC;YACtD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QAC9C,CAAC;IACH,CAAC;IA6DD,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACtC,OAAO,IAAI,CAAC;QACd,CAAC;QAED,OAAO,CACL,WAAK,KAAK,EAAC,wBAAwB,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW;YAC3D,WAAK,KAAK,EAAC,sBAAsB,EAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,eAAe,EAAE;gBACnE,WAAK,KAAK,EAAC,cAAc;oBACvB,UAAI,KAAK,EAAC,aAAa,mBAAkB;oBACzC,cAAQ,KAAK,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,KAAK,EAAC,OAAO,aAEzD,CACL;gBAEN,WAAK,KAAK,EAAC,YAAY;oBACrB,WAAK,KAAK,EAAC,YAAY;wBACrB,aAAO,OAAO,EAAC,eAAe,mBAAqB;wBACnD,aACE,IAAI,EAAC,MAAM,EACX,EAAE,EAAC,eAAe,EAClB,KAAK,EAAC,qBAAqB,EAC3B,KAAK,EAAE,IAAI,CAAC,WAAW,EACvB,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAC9B,WAAW,EAAC,oBAAoB,GAChC,CACE;oBAEN,WAAK,KAAK,EAAC,YAAY;wBACrB,aAAO,OAAO,EAAC,eAAe,uBAAyB;wBACvD,WAAK,KAAK,EAAC,sBAAsB;4BAC/B,aACE,IAAI,EAAC,OAAO,EACZ,EAAE,EAAC,eAAe,EAClB,KAAK,EAAC,qBAAqB,EAC3B,KAAK,EAAE,IAAI,CAAC,WAAW,EACvB,OAAO,EAAE,IAAI,CAAC,gBAAgB,GAC9B;4BACF,aACE,IAAI,EAAC,MAAM,EACX,KAAK,EAAC,iBAAiB,EACvB,KAAK,EAAE,IAAI,CAAC,WAAW,EACvB,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAC9B,WAAW,EAAC,SAAS,GACrB,CACE,CACF,CACF;gBAEN,WAAK,KAAK,EAAC,cAAc;oBACvB,cAAQ,KAAK,EAAC,YAAY,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,qBAE5C;oBACT,WAAK,KAAK,EAAC,gBAAgB;wBACzB,cAAQ,KAAK,EAAC,YAAY,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,aAE3C;wBACT,cAAQ,KAAK,EAAC,UAAU,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,mBAExC,CACL,CACF,CACF,CACF,CACP,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, Prop, Event, EventEmitter, State, Watch } from '@stencil/core';\nimport { SectionEditorData } from '../../types/section-editor-data';\n\n/**\n * Section Editor Panel Component\n * ===============================\n *\n * Demo Component - NOT Part of Library\n *\n * This component demonstrates how to build custom UI for editing canvas metadata\n * in applications using the grid-builder library.\n *\n * Purpose:\n * --------\n * Shows how to create a side panel for editing section/canvas settings.\n * This is completely custom to your application - the library doesn't provide this.\n *\n * Library Relationship:\n * ---------------------\n * - Library owns: Component placement, layouts, zIndex (grid state)\n * - Host app owns: Canvas metadata (titles, colors, settings) - THIS COMPONENT\n * - Metadata flows: App → Library via canvasMetadata prop\n *\n * Pattern Demonstrated:\n * ---------------------\n * 1. User clicks section header (demo UI)\n * 2. App opens this panel (demo component)\n * 3. User edits title/color\n * 4. App updates canvasMetadata state\n * 5. Library receives updated metadata via prop\n * 6. Library passes backgroundColor to canvas-section\n *\n * Why This Approach:\n * ------------------\n * - Library stays focused on grid logic\n * - Host app controls all presentation/metadata UI\n * - You can use any UI framework (Material, Bootstrap, etc.)\n * - Complete flexibility over settings panel design\n */\n@Component({\n  tag: 'section-editor-panel',\n  styleUrl: 'section-editor-panel.scss',\n  shadow: false,\n})\nexport class SectionEditorPanel {\n  /**\n   * Panel open/closed state\n   * Controlled by parent component (blog-app)\n   */\n  @Prop() isOpen: boolean = false;\n\n  /**\n   * Section data being edited\n   * Passed from parent when user clicks section header\n   */\n  @Prop() sectionData: SectionEditorData | null = null;\n\n  /**\n   * Event: Close panel\n   * Fired when user clicks Cancel, Save, or overlay\n   */\n  @Event() closePanel: EventEmitter<void>;\n\n  /**\n   * Event: Update section\n   * Fired when user clicks Save with edited values\n   * Parent updates canvasMetadata state in response\n   */\n  @Event() updateSection: EventEmitter<{ canvasId: string; title: string; backgroundColor: string }>;\n\n  /**\n   * Event: Preview color change\n   * Fired when user changes color picker (live preview)\n   * Parent temporarily updates canvas background\n   */\n  @Event() previewColorChange: EventEmitter<{ canvasId: string; backgroundColor: string }>;\n\n  /**\n   * Event: Preview title change\n   * Fired when user types in title input (live preview)\n   * Parent temporarily updates canvas title\n   */\n  @Event() previewTitleChange: EventEmitter<{ canvasId: string; title: string }>;\n\n  /**\n   * Event: Delete section\n   * Fired when user clicks Delete button\n   * Parent handles canvas removal\n   */\n  @Event() deleteSection: EventEmitter<{ canvasId: string }>;\n\n  /**\n   * Internal editing state\n   * These track user's changes before saving\n   */\n  @State() editedTitle: string = '';\n  @State() editedColor: string = '';\n\n  /**\n   * Original values when modal opened\n   * Used to revert on cancel\n   */\n  private originalColor: string = '';\n  private originalTitle: string = '';\n\n  @Watch('sectionData')\n  handleSectionDataChange(newData: SectionEditorData | null) {\n    if (newData) {\n      this.editedTitle = newData.title;\n      this.editedColor = newData.backgroundColor;\n      // Store original values for revert on cancel\n      this.originalColor = newData.backgroundColor;\n      this.originalTitle = newData.title;\n    }\n  }\n\n  componentWillLoad() {\n    if (this.sectionData) {\n      this.editedTitle = this.sectionData.title;\n      this.editedColor = this.sectionData.backgroundColor;\n      // Store original values for revert on cancel\n      this.originalColor = this.sectionData.backgroundColor;\n      this.originalTitle = this.sectionData.title;\n    }\n  }\n\n  private handleClose = () => {\n    // Revert to original values on cancel\n    if (this.sectionData) {\n      this.previewColorChange.emit({\n        canvasId: this.sectionData.canvasId,\n        backgroundColor: this.originalColor,\n      });\n      this.previewTitleChange.emit({\n        canvasId: this.sectionData.canvasId,\n        title: this.originalTitle,\n      });\n    }\n    this.closePanel.emit();\n  };\n\n  private handleSave = () => {\n    if (this.sectionData) {\n      this.updateSection.emit({\n        canvasId: this.sectionData.canvasId,\n        title: this.editedTitle,\n        backgroundColor: this.editedColor,\n      });\n      this.closePanel.emit();\n    }\n  };\n\n  private handleDelete = () => {\n    if (this.sectionData) {\n      this.deleteSection.emit({\n        canvasId: this.sectionData.canvasId,\n      });\n      this.closePanel.emit();\n    }\n  };\n\n  private handleTitleInput = (e: Event) => {\n    this.editedTitle = (e.target as HTMLInputElement).value;\n\n    // Emit preview event for live title update\n    if (this.sectionData) {\n      this.previewTitleChange.emit({\n        canvasId: this.sectionData.canvasId,\n        title: this.editedTitle,\n      });\n    }\n  };\n\n  private handleColorInput = (e: Event) => {\n    this.editedColor = (e.target as HTMLInputElement).value;\n\n    // Emit preview event for live color update\n    if (this.sectionData) {\n      this.previewColorChange.emit({\n        canvasId: this.sectionData.canvasId,\n        backgroundColor: this.editedColor,\n      });\n    }\n  };\n\n  render() {\n    if (!this.isOpen || !this.sectionData) {\n      return null;\n    }\n\n    return (\n      <div class=\"section-editor-overlay\" onClick={this.handleClose}>\n        <div class=\"section-editor-panel\" onClick={(e) => e.stopPropagation()}>\n          <div class=\"panel-header\">\n            <h2 class=\"panel-title\">Edit Section</h2>\n            <button class=\"close-btn\" onClick={this.handleClose} title=\"Close\">\n              ×\n            </button>\n          </div>\n\n          <div class=\"panel-body\">\n            <div class=\"form-group\">\n              <label htmlFor=\"section-title\">Section Name</label>\n              <input\n                type=\"text\"\n                id=\"section-title\"\n                class=\"section-title-input\"\n                value={this.editedTitle}\n                onInput={this.handleTitleInput}\n                placeholder=\"Enter section name\"\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label htmlFor=\"section-color\">Background Color</label>\n              <div class=\"color-picker-wrapper\">\n                <input\n                  type=\"color\"\n                  id=\"section-color\"\n                  class=\"section-color-input\"\n                  value={this.editedColor}\n                  onInput={this.handleColorInput}\n                />\n                <input\n                  type=\"text\"\n                  class=\"color-hex-input\"\n                  value={this.editedColor}\n                  onInput={this.handleColorInput}\n                  placeholder=\"#ffffff\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"panel-footer\">\n            <button class=\"delete-btn\" onClick={this.handleDelete}>\n              Delete Section\n            </button>\n            <div class=\"footer-actions\">\n              <button class=\"cancel-btn\" onClick={this.handleClose}>\n                Cancel\n              </button>\n              <button class=\"save-btn\" onClick={this.handleSave}>\n                Save Changes\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"]}