{"version":3,"file":"grid-viewer.js","sourceRoot":"","sources":["../../../src/components/grid-viewer/grid-viewer.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Grid Viewer - Rendering-Only Component\n * ========================================\n *\n * Lightweight component for rendering grid layouts without editing functionality.\n * Designed to be used in viewer apps where layouts are created in grid-builder\n * and displayed in grid-viewer.\n *\n * ## Design Philosophy\n *\n * **Separation of concerns**:\n * - Builder app: grid-builder with full editing (~150KB with interact.js)\n * - Viewer app: grid-viewer for display only (~30KB, 80% smaller)\n * - Same component definitions, different rendering modes\n *\n * **Export/Import workflow**:\n * ```typescript\n * // Builder App ‚Üí Export layout\n * const builder = document.querySelector('grid-builder');\n * const exportData = await builder.exportState();\n * await saveToAPI(exportData);\n *\n * // Viewer App ‚Üí Import and display layout\n * const layout = await loadFromAPI();\n * const viewer = document.querySelector('grid-viewer');\n * viewer.initialState = layout;\n * ```\n *\n * ## What's Excluded from Viewer\n *\n * **No editing features**:\n * - ‚ùå No drag-and-drop (no interact.js)\n * - ‚ùå No component palette\n * - ‚ùå No config panel\n * - ‚ùå No item selection\n * - ‚ùå No resize handles\n * - ‚ùå No undo/redo\n *\n * **Only rendering features**:\n * - ‚úÖ Responsive layouts (desktop/mobile)\n * - ‚úÖ Container-based viewport switching\n * - ‚úÖ Virtual rendering for performance\n * - ‚úÖ Theme customization\n * - ‚úÖ Component registry for dynamic rendering\n *\n * ## Bundle Size Impact\n *\n * **Builder**: ~150KB (includes interact.js ~45KB)\n * **Viewer**: ~30KB (no interact.js, no editing logic)\n * **Reduction**: 80% smaller bundle\n *\n * @module grid-viewer\n */\n\nimport { Component, Element, h, Host, Prop, State, Watch } from '@stencil/core';\n\n// Type imports\nimport { ComponentDefinition } from '../../types/component-definition';\nimport { GridConfig } from '../../types/grid-config';\nimport { GridBuilderTheme } from '../../types/theme';\nimport { GridExport } from '../../types/grid-export';\n\n// Service imports - only rendering-related, no editing\nimport { ViewerState } from '../../services/state-manager';\nimport { createStore } from '@stencil/store';\nimport { createDebugLogger } from '../../utils/debug';\n\nconst debug = createDebugLogger('grid-viewer');\n\n/**\n * GridViewer Component\n * ====================\n *\n * Rendering-only grid component for displaying layouts created in grid-builder.\n *\n * **Tag**: `<grid-viewer>`\n * **Shadow DOM**: Disabled (consistent with grid-builder)\n * **Reactivity**: Uses local store for viewer state\n *\n * **Key differences from grid-builder**:\n * - No interact.js dependency (80% bundle size reduction)\n * - No palette, config panel, or editing UI\n * - Simplified state (no selection, no z-index tracking)\n * - Rendering-only canvas sections\n */\n@Component({\n  tag: 'grid-viewer',\n  styleUrl: 'grid-viewer.scss',\n  shadow: false, // Light DOM for consistency with grid-builder\n})\nexport class GridViewer {\n  /**\n   * Component definitions registry\n   *\n   * **Required prop**: Array of ComponentDefinition objects\n   * **Purpose**: Defines how to render each component type\n   *\n   * **Must match builder definitions**: Same component types as used in builder\n   *\n   * **Example**:\n   * ```typescript\n   * const components = [\n   *   {\n   *     type: 'header',\n   *     name: 'Header',\n   *     icon: 'üìÑ',\n   *     render: ({ itemId, config }) => (\n   *       <my-header itemId={itemId} config={config} />\n   *     )\n   *   }\n   * ];\n   * ```\n   */\n  @Prop() components!: ComponentDefinition[];\n\n  /**\n   * Grid configuration options\n   *\n   * **Optional prop**: Grid system configuration\n   * **Default**: Standard 2% grid with 10px-50px constraints\n   *\n   * **Should match builder config**: Use same config as builder for consistent rendering\n   */\n  @Prop() config?: GridConfig;\n\n  /**\n   * Visual theme customization\n   *\n   * **Optional prop**: Customizes colors, fonts, and styling\n   * **Default**: Bootstrap-inspired blue theme\n   */\n  @Prop() theme?: GridBuilderTheme;\n\n  /**\n   * Initial state to display\n   *\n   * **Optional prop**: Layout data to render\n   * **Accepts**: ViewerState or GridExport (both compatible)\n   *\n   * **From builder export**:\n   * ```typescript\n   * const exportData = await builder.exportState();\n   * viewer.initialState = exportData; // Type-safe!\n   * ```\n   *\n   * **From API**:\n   * ```typescript\n   * const layout = await fetch('/api/layouts/123').then(r => r.json());\n   * viewer.initialState = layout;\n   * ```\n   */\n  @Prop() initialState?: Partial<ViewerState> | GridExport;\n\n  /**\n   * Canvas metadata storage (host app responsibility)\n   *\n   * **Optional prop**: Store canvas-level presentation metadata\n   * **Purpose**: Host app owns canvas metadata (titles, colors, settings)\n   *\n   * **Structure**: Record<canvasId, any>\n   *\n   * **Example**:\n   * ```typescript\n   * const canvasMetadata = {\n   *   'hero-section': {\n   *     backgroundColor: '#f0f4f8',\n   *     customSettings: { ... }\n   *   }\n   * };\n   * ```\n   */\n  @Prop() canvasMetadata?: Record<string, any>;\n\n  /**\n   * Component registry (internal state)\n   *\n   * **Purpose**: Map component type ‚Üí definition for lookup\n   * **Built from**: components prop\n   */\n  @State() private componentRegistry: Map<string, ComponentDefinition> = new Map();\n\n  /**\n   * Local viewer state store\n   *\n   * **Purpose**: Minimal state for rendering (no editing state)\n   * **Structure**: ViewerState with canvases and currentViewport\n   */\n  private viewerState!: { state: ViewerState };\n\n  /**\n   * Host element reference\n   */\n  @Element() private hostElement!: HTMLElement;\n\n  /**\n   * ResizeObserver for container-based viewport switching\n   *\n   * **Purpose**: Automatically switch between desktop/mobile viewports based on container width\n   * **Breakpoint**: 768px (container width, not window width)\n   */\n  private viewportResizeObserver?: ResizeObserver;\n\n  /**\n   * Component will load lifecycle\n   *\n   * **Purpose**: Initialize component registry and viewer state\n   */\n  componentWillLoad() {\n    // Validate required props\n    if (!this.components || this.components.length === 0) {\n      console.error('GridViewer: components prop is required');\n      return;\n    }\n\n    // Build component registry\n    this.componentRegistry = new Map(\n      this.components.map(comp => [comp.type, comp])\n    );\n\n    // Validate unique component types\n    if (this.componentRegistry.size !== this.components.length) {\n      console.warn('GridViewer: Duplicate component types detected');\n    }\n\n    // Initialize local viewer state store\n    const initialViewerState: ViewerState = {\n      canvases: {},\n      currentViewport: 'desktop',\n    };\n\n    // Restore initial state if provided\n    if (this.initialState) {\n      // Handle both ViewerState and GridExport formats\n      if ('viewport' in this.initialState) {\n        // GridExport format\n        initialViewerState.currentViewport = this.initialState.viewport;\n        initialViewerState.canvases = this.initialState.canvases as Record<string, any>;\n      } else {\n        // ViewerState format\n        Object.assign(initialViewerState, this.initialState);\n      }\n    }\n\n    // Create local store (not global like grid-builder)\n    this.viewerState = createStore<ViewerState>(initialViewerState);\n  }\n\n  /**\n   * Component did load lifecycle\n   *\n   * **Purpose**: Apply theme and setup viewport switching\n   */\n  componentDidLoad() {\n    // Apply theme\n    if (this.theme) {\n      this.applyTheme(this.theme);\n    }\n\n    // Setup container-based viewport switching\n    this.setupViewportResizeObserver();\n  }\n\n  /**\n   * Disconnected callback (cleanup)\n   *\n   * **Purpose**: Clean up ResizeObserver\n   */\n  disconnectedCallback() {\n    // Cleanup ResizeObserver\n    if (this.viewportResizeObserver) {\n      this.viewportResizeObserver.disconnect();\n    }\n  }\n\n  /**\n   * Watch components prop for changes\n   *\n   * **Purpose**: Rebuild component registry when components prop changes\n   */\n  @Watch('components')\n  handleComponentsChange(newComponents: ComponentDefinition[]) {\n    this.componentRegistry = new Map(\n      newComponents.map(comp => [comp.type, comp])\n    );\n  }\n\n  /**\n   * Watch initialState prop for changes\n   *\n   * **Purpose**: Update viewer state when initialState prop changes\n   */\n  @Watch('initialState')\n  handleInitialStateChange(newState: Partial<ViewerState> | GridExport) {\n    if (newState) {\n      // Handle both ViewerState and GridExport formats\n      if ('viewport' in newState) {\n        // GridExport format\n        this.viewerState.state.currentViewport = newState.viewport;\n        this.viewerState.state.canvases = newState.canvases as Record<string, any>;\n      } else {\n        // ViewerState format\n        Object.assign(this.viewerState.state, newState);\n      }\n    }\n  }\n\n  /**\n   * Apply theme via CSS variables\n   *\n   * **Purpose**: Apply theme customization to host element\n   * **Implementation**: Set CSS custom properties on :host\n   */\n  private applyTheme(theme: GridBuilderTheme) {\n    const host = this.el;\n    if (!host) return;\n\n    // Apply predefined theme properties\n    if (theme.primaryColor) {\n      host.style.setProperty('--grid-viewer-primary-color', theme.primaryColor);\n    }\n    if (theme.canvasBackground) {\n      host.style.setProperty('--grid-viewer-canvas-bg', theme.canvasBackground);\n    }\n    if (theme.fontFamily) {\n      host.style.setProperty('--grid-viewer-font-family', theme.fontFamily);\n    }\n\n    // Apply custom properties\n    if (theme.customProperties) {\n      Object.entries(theme.customProperties).forEach(([key, value]) => {\n        host.style.setProperty(key, value);\n      });\n    }\n  }\n\n  /**\n   * Setup ResizeObserver for container-based viewport switching\n   *\n   * **Purpose**: Automatically switch between desktop/mobile viewports based on container width\n   * **Breakpoint**: 768px (container width, not window viewport)\n   *\n   * **Reused from grid-builder**: Same implementation for consistency\n   */\n  private setupViewportResizeObserver = () => {\n    if (!this.hostElement) {\n      return;\n    }\n\n    // Watch for grid-viewer container size changes\n    this.viewportResizeObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        // Get container width directly from the element\n        // Note: We use offsetWidth instead of entry.contentRect.width because\n        // the grid-viewer uses Light DOM and contentRect returns 0 for elements with height: 100%\n        const width = this.hostElement.offsetWidth || entry.borderBoxSize?.[0]?.inlineSize || entry.contentRect.width;\n\n        // Skip viewport switching if width is 0 or very small (container not yet laid out)\n        // This prevents premature switching to mobile before CSS layout is complete\n        if (width < 100) {\n          debug.log(`üì± [Viewer] Skipping viewport switch - container not yet laid out (width: ${Math.round(width)}px)`);\n          return;\n        }\n\n        // Determine target viewport based on container width\n        const targetViewport = width < 768 ? 'mobile' : 'desktop';\n\n        // Only update if viewport changed\n        if (this.viewerState.state.currentViewport !== targetViewport) {\n          debug.log(`üì± [Viewer] Container-based viewport switch: ${this.viewerState.state.currentViewport} ‚Üí ${targetViewport} (width: ${Math.round(width)}px)`);\n          this.viewerState.state.currentViewport = targetViewport;\n        }\n      }\n    });\n\n    this.viewportResizeObserver.observe(this.hostElement);\n  };\n\n  /**\n   * Reference to host element\n   */\n  private el?: HTMLElement;\n\n  /**\n   * Render component template\n   *\n   * **Purpose**: Render canvases with items (no palette, no config panel)\n   *\n   * **Structure**:\n   * - Host element with theme classes\n   * - Canvas area with sections\n   * - No palette (viewing only)\n   * - No config panel (viewing only)\n   */\n  render() {\n    const canvasIds = Object.keys(this.viewerState.state.canvases);\n\n    return (\n      <Host ref={(el) => this.el = el}>\n        <div class=\"grid-viewer-container\">\n          {/* Canvas Area Only (no palette, no config panel) */}\n          <div class=\"canvas-area\">\n            <div class=\"canvases-container\">\n              {canvasIds.map((canvasId) => (\n                <canvas-section-viewer\n                  key={canvasId}\n                  canvasId={canvasId}\n                  config={this.config}\n                  componentRegistry={this.componentRegistry}\n                  items={this.viewerState.state.canvases[canvasId].items}\n                  currentViewport={this.viewerState.state.currentViewport}\n                  backgroundColor={this.canvasMetadata?.[canvasId]?.backgroundColor}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}