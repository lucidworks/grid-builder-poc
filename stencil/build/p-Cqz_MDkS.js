import{s as e}from"./p-BmMMCJ61.js";import"./p-CC73Dkup.js";const n=50;const o=200;const t=2;const i=2;const c=2;function s(e,n){if(e.x+e.width<=n.x||n.x+n.width<=e.x){return false}if(e.y+e.height<=n.y||n.y+n.height<=e.y){return false}return true}function r(e){const o=Math.floor((n-e)/2);return{x:o,y:t}}function f(n){const o=e.canvases[n];if(!o||o.items.length===0){return{x:0,y:0}}const t=Math.max(...o.items.map((e=>e.layouts.desktop.y+e.layouts.desktop.height)));return{x:0,y:t+c}}function p(c,p,l){const a=e.canvases[c];console.log(`[findFreeSpace] Finding space for ${p}x${l} on ${c}`);console.log(`[findFreeSpace] Existing items:`,a===null||a===void 0?void 0:a.items.map((e=>({id:e.id,type:e.type,x:e.layouts.desktop.x,y:e.layouts.desktop.y,width:e.layouts.desktop.width,height:e.layouts.desktop.height,occupiesY:`${e.layouts.desktop.y} to ${e.layouts.desktop.y+e.layouts.desktop.height}`}))));if(!a){console.log(`[findFreeSpace] Canvas ${c} doesn't exist`);return null}if(a.items.length===0){const e=r(p);console.log(`[findFreeSpace] Empty canvas, centering at:`,e);return e}const d=i+p<=n;if(d){const e={x:i,y:t,width:p,height:l};const n=a.items.some((n=>s(e,n.layouts.desktop)));if(!n){console.log(`[findFreeSpace] Top-left position is free:`,{x:i,y:t});return{x:i,y:t}}else{console.log(`[findFreeSpace] Top-left position occupied, scanning grid...`)}}else{console.log(`[findFreeSpace] Component too wide for top-left position (width=${p}), scanning grid...`)}for(let e=0;e<o;e+=1){for(let o=0;o<=n-p;o+=1){const n={x:o,y:e,width:p,height:l};const t=a.items.map((e=>{const o=s(n,e.layouts.desktop);return{itemId:e.id,itemType:e.type,collision:o}}));const i=t.some((e=>e.collision));if(!i){console.log(`[findFreeSpace] Found free space at:`,{x:o,y:e});return{x:o,y:e}}else if(e>=7&&e<=12){const n=t.filter((e=>e.collision));if(n.some((e=>e.itemType==="blog-button"))){console.log(`[findFreeSpace] Position (${o}, ${e}) collides with:`,n)}}}}const u=f(c);console.log(`[findFreeSpace] No free space in scan, placing at bottom:`,u);return u}export{n as CANVAS_WIDTH_UNITS,s as checkCollision,p as findFreeSpace,f as getBottomPosition,r as getCenteredPosition};
//# sourceMappingURL=p-Cqz_MDkS.js.map