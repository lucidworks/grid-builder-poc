{"version":3,"names":["registerInstance","h","interact","setActiveCanvas","state","onChange","clearGridSizeCache","gridToPixelsX","gridToPixelsY","getGridSizeVertical","calculateCanvasHeight","canvasSectionCss","CanvasSection","constructor","hostRef","this","isActive","renderVersion","calculatedHeight","dropzoneInitialized","setupCanvasClickListener","gridContainerRef","addEventListener","event","target","canvasId","canvasActivatedEvent","CustomEvent","detail","bubbles","composed","dispatchEvent","canvasClickEvent","setupResizeObserver","resizeObserver","ResizeObserver","observe","initializeDropzone","interactable","dropzone","accept","overlap","listeners","dragenter","_event","_a","classList","add","dragleave","remove","drop","droppedElement","relatedTarget","isPaletteItem","contains","_dropWasValid","isGridItemHeader","isGridItem","gridItem","closest","componentType","getAttribute","defaultWidth","_defaultWidth","defaultHeight","_defaultHeight","widthPx","config","heightPx","halfWidth","halfHeight","rect","getBoundingClientRect","x","dragEvent","clientX","left","y","clientY","top","dropEvent","itemId","id","sourceCanvasId","droppedRect","moveEvent","targetCanvasId","componentWillLoad","canvas","canvases","error","console","debug","componentWillUpdate","componentDidLoad","disconnectedCallback","unset","disconnect","handleCanvasIdChange","newCanvasId","oldCanvasId","handleConfigChange","newConfig","oldConfig","handleIsActiveChange","newIsActive","oldIsActive","render","_b","_c","showGrid","verticalGridSize","minHeightGridUnits","canvasMinHeight","minHeightPx","key","class","active","style","Object","assign","backgroundColor","backgroundSize","minHeight","height","ref","el","items","map","item","componentRegistry","onBeforeDelete","watchers","componentPaletteCss","ComponentPalette","showHeader","initializePaletteItems","paletteItems","document","querySelectorAll","forEach","element","_dragInitialized","draggable","inertia","autoScroll","start","paletteRect","_originalPosition","definition","components","find","c","type","warn","defaultSize","width","gridState","window","canvasIds","keys","length","estimatedGridSize","dragClone","createElement","className","position","pointerEvents","zIndex","renderDragClone","customElement","name","icon","wrapper","HTMLElement","appendChild","innerHTML","padding","background","color","borderRadius","body","_dragClone","_halfWidth","_halfHeight","move","end","dropWasValid","originalPos","transition","opacity","setTimeout","handleComponentsChange","newComponents","oldComponents","requestAnimationFrame","componentDidUpdate","paletteClasses","palette","component","renderPaletteItem"],"sources":["0"],"mappings":"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","ignoreList":[]}