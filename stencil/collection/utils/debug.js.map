{"version":3,"file":"debug.js","sourceRoot":"","sources":["../../src/utils/debug.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiDG;AAEH;;;;;;;;;;;;GAYG;AACH,SAAS,cAAc;IACrB,qCAAqC;IACrC,IAAI,OAAO,OAAO,KAAK,WAAW,IAAI,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,aAAa,EAAE,CAAC;QAC5F,OAAO,IAAI,CAAC;IACd,CAAC;IAED,wCAAwC;IACxC,IAAI,OAAO,OAAO,KAAK,WAAW,IAAI,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE,CAAC;QACrF,OAAO,OAAO,CAAC,GAAG,CAAC,gBAAgB,KAAK,MAAM,CAAC;IACjD,CAAC;IAED,wBAAwB;IACxB,OAAO,KAAK,CAAC;AACf,CAAC;AAED;;;;;GAKG;AACH,MAAM,CAAC,MAAM,KAAK,GAAG;IACnB;;;;;;;;;;;;;;;OAeG;IACH,GAAG,CAAC,GAAG,IAAW;QAChB,IAAI,cAAc,EAAE,EAAE,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;QACvB,CAAC;IACH,CAAC;IAED;;;;;;;;;;;;;;;;;OAiBG;IACH,IAAI,CAAC,GAAG,IAAW;QACjB,IAAI,cAAc,EAAE,EAAE,CAAC;YACrB,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACxB,CAAC;IACH,CAAC;IAED;;;;;;;;;;;;;;;;;OAiBG;IACH,KAAK,CAAC,GAAG,IAAW;QAClB,IAAI,cAAc,EAAE,EAAE,CAAC;YACrB,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;QACzB,CAAC;IACH,CAAC;IAED;;;;;;;;;;;;;;;;;;;OAmBG;IACH,KAAK,CAAC,KAAa,EAAE,EAAc;QACjC,IAAI,cAAc,EAAE,EAAE,CAAC;YACrB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrB,EAAE,EAAE,CAAC;YACL,OAAO,CAAC,QAAQ,EAAE,CAAC;QACrB,CAAC;IACH,CAAC;IAED;;;;;;;;;;;;;;;OAeG;IACH,SAAS;QACP,OAAO,cAAc,EAAE,CAAC;IAC1B,CAAC;CACF,CAAC;AAEF;;;;;;;;;;;;;;GAcG;AACH,MAAM,UAAU,iBAAiB,CAAC,SAAiB;IACjD,OAAO;QACL,GAAG,CAAC,GAAG,IAAW;YAChB,KAAK,CAAC,GAAG,CAAC,IAAI,SAAS,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,GAAG,IAAW;YACjB,KAAK,CAAC,IAAI,CAAC,IAAI,SAAS,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;QACxC,CAAC;QACD,KAAK,CAAC,GAAG,IAAW;YAClB,KAAK,CAAC,KAAK,CAAC,IAAI,SAAS,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;QACzC,CAAC;QACD,KAAK,CAAC,KAAa,EAAE,EAAc;YACjC,KAAK,CAAC,KAAK,CAAC,IAAI,SAAS,KAAK,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;QAC7C,CAAC;QACD,SAAS;YACP,OAAO,KAAK,CAAC,SAAS,EAAE,CAAC;QAC3B,CAAC;KACF,CAAC;AACJ,CAAC","sourcesContent":["/**\n * Debug Utility\n * ==============\n *\n * Environment-aware logging utility for the grid-builder library. Provides conditional\n * logging that only outputs in development mode, keeping production console clean.\n *\n * ## Problem\n *\n * Development logging is helpful for debugging but pollutes production console:\n * - Performance tracking logs on every drag/resize\n * - Build timestamp logs on initialization\n * - State change debug messages\n * - Verbose interaction tracking\n *\n * ## Solution\n *\n * Centralized debug utility that checks environment before logging:\n * - Development: Full logging for debugging\n * - Production: Silent (no console pollution)\n * - Test: Configurable via `ENABLE_TEST_LOGS` flag\n *\n * ## Usage\n *\n * ```typescript\n * import { debug } from '../utils/debug';\n *\n * // Replace console.log with debug.log\n * debug.log('Component mounted', { itemId, canvasId });\n *\n * // Still use console.warn/error for actual issues\n * console.warn('Invalid configuration:', config);\n * ```\n *\n * ## Environment Detection\n *\n * **How it works**:\n * - Checks `process.env.NODE_ENV` at runtime\n * - StencilJS sets NODE_ENV during build\n * - Development builds: NODE_ENV = 'development'\n * - Production builds: NODE_ENV = 'production'\n * - Test builds: NODE_ENV = 'test'\n *\n * **Build-time optimization**:\n * - Production: debug.log() calls are no-ops (dead code elimination)\n * - Tree-shaking removes unused debug code\n * - Zero runtime overhead in production\n *\n * @module debug\n */\n\n/**\n * Check if debug logging is enabled\n *\n * **Enabled when**:\n * - NODE_ENV === 'development'\n * - NODE_ENV === 'test' AND ENABLE_TEST_LOGS === true\n *\n * **Disabled when**:\n * - NODE_ENV === 'production'\n * - NODE_ENV === 'test' AND ENABLE_TEST_LOGS !== true\n *\n * @returns true if debug logging should be enabled\n */\nfunction isDebugEnabled(): boolean {\n  // Check if we're in development mode\n  if (typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'development') {\n    return true;\n  }\n\n  // Allow test logs if explicitly enabled\n  if (typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'test') {\n    return process.env.ENABLE_TEST_LOGS === 'true';\n  }\n\n  // Disable in production\n  return false;\n}\n\n/**\n * Debug logger instance\n *\n * Provides console.log-compatible methods that only log in development mode.\n * All methods are no-ops in production, allowing tree-shaking to remove them.\n */\nexport const debug = {\n  /**\n   * Log informational message\n   *\n   * **Use for**: General debugging, state changes, lifecycle events\n   *\n   * **Production**: No-op (dead code eliminated)\n   * **Development**: console.log output\n   *\n   * @param args - Arguments to pass to console.log\n   *\n   * @example\n   * ```typescript\n   * debug.log('Item added:', item);\n   * debug.log('Grid size:', gridSize, 'for canvas:', canvasId);\n   * ```\n   */\n  log(...args: any[]): void {\n    if (isDebugEnabled()) {\n      console.log(...args);\n    }\n  },\n\n  /**\n   * Log warning message\n   *\n   * **Use for**: Recoverable issues, deprecation warnings, suspicious state\n   *\n   * **Note**: Consider using console.warn directly for warnings that should\n   * always be visible (even in production)\n   *\n   * **Production**: No-op (dead code eliminated)\n   * **Development**: console.warn output\n   *\n   * @param args - Arguments to pass to console.warn\n   *\n   * @example\n   * ```typescript\n   * debug.warn('Deprecated API usage:', methodName);\n   * ```\n   */\n  warn(...args: any[]): void {\n    if (isDebugEnabled()) {\n      console.warn(...args);\n    }\n  },\n\n  /**\n   * Log error message\n   *\n   * **Use for**: Non-critical errors, caught exceptions, debugging errors\n   *\n   * **Note**: Use console.error directly for critical errors that should\n   * always be visible (even in production)\n   *\n   * **Production**: No-op (dead code eliminated)\n   * **Development**: console.error output\n   *\n   * @param args - Arguments to pass to console.error\n   *\n   * @example\n   * ```typescript\n   * debug.error('Failed to initialize drag handler:', error);\n   * ```\n   */\n  error(...args: any[]): void {\n    if (isDebugEnabled()) {\n      console.error(...args);\n    }\n  },\n\n  /**\n   * Log grouped messages\n   *\n   * **Use for**: Complex debug output, nested data structures\n   *\n   * **Production**: No-op (dead code eliminated)\n   * **Development**: console.group/groupEnd output\n   *\n   * @param label - Group label\n   * @param fn - Function to execute within group\n   *\n   * @example\n   * ```typescript\n   * debug.group('Drag operation', () => {\n   *   debug.log('Start position:', startPos);\n   *   debug.log('End position:', endPos);\n   *   debug.log('Delta:', delta);\n   * });\n   * ```\n   */\n  group(label: string, fn: () => void): void {\n    if (isDebugEnabled()) {\n      console.group(label);\n      fn();\n      console.groupEnd();\n    }\n  },\n\n  /**\n   * Check if debug mode is enabled\n   *\n   * **Use for**: Expensive debug operations that should be skipped in production\n   *\n   * @returns true if debug logging is enabled\n   *\n   * @example\n   * ```typescript\n   * if (debug.isEnabled()) {\n   *   // Expensive operation only in development\n   *   const stats = calculateDetailedStats();\n   *   debug.log('Stats:', stats);\n   * }\n   * ```\n   */\n  isEnabled(): boolean {\n    return isDebugEnabled();\n  },\n};\n\n/**\n * Create a namespaced debug logger\n *\n * **Use for**: Module-specific logging with consistent prefixes\n *\n * @param namespace - Namespace for log messages (e.g., 'drag-handler', 'grid-calculations')\n * @returns Debug logger with namespace prefix\n *\n * @example\n * ```typescript\n * // In drag-handler.ts\n * const debug = createDebugLogger('drag-handler');\n * debug.log('Drag started'); // â†’ [drag-handler] Drag started\n * ```\n */\nexport function createDebugLogger(namespace: string) {\n  return {\n    log(...args: any[]): void {\n      debug.log(`[${namespace}]`, ...args);\n    },\n    warn(...args: any[]): void {\n      debug.warn(`[${namespace}]`, ...args);\n    },\n    error(...args: any[]): void {\n      debug.error(`[${namespace}]`, ...args);\n    },\n    group(label: string, fn: () => void): void {\n      debug.group(`[${namespace}] ${label}`, fn);\n    },\n    isEnabled(): boolean {\n      return debug.isEnabled();\n    },\n  };\n}\n"]}