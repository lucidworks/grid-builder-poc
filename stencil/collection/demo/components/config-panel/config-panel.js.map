{"version":3,"file":"config-panel.js","sourceRoot":"","sources":["../../../../src/demo/components/config-panel/config-panel.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Config Panel Component (Library Version)\n * =========================================\n *\n * Configuration panel with auto-generated forms and custom panel support.\n * This is the library version that uses ComponentDefinition for flexibility.\n *\n * ## Key Features\n *\n * **Auto-generated forms**:\n * - Reads ComponentDefinition.configSchema\n * - Generates form fields automatically (text, number, select, checkbox, color)\n * - Live preview of changes\n * - Revert on cancel\n *\n * **Custom panels**:\n * - Uses ComponentDefinition.renderConfigPanel() if provided\n * - Consumer has full control over config UI\n * - Library provides onChange, onSave, onCancel callbacks\n *\n * **Basic fields** (always available):\n * - Component name (item.name)\n * - Z-index controls (bring to front, send to back, etc.)\n *\n * @module config-panel\n */\n\nimport { Component, h, Listen, Prop, State } from '@stencil/core';\n\n// Internal imports\nimport { eventManager } from '../../../services/event-manager';\nimport { gridState } from '../../../services/state-manager';\nimport { ComponentDefinition, ConfigField } from '../../../types/component-definition';\n\n/**\n * ConfigPanel Component\n * =====================\n *\n * Library component providing configuration panel with auto-generated and custom forms.\n *\n * **Tag**: `<config-panel>`\n * **Shadow DOM**: Disabled (for consistency with other components)\n */\n@Component({\n  tag: 'config-panel',\n  styleUrl: 'config-panel.scss',\n  shadow: false,\n})\nexport class ConfigPanel {\n  /**\n   * Component registry (from parent grid-builder)\n   *\n   * **Source**: grid-builder component\n   * **Purpose**: Look up component definitions for config forms\n   */\n  @Prop() componentRegistry?: Map<string, ComponentDefinition>;\n\n  /**\n   * Panel open state\n   */\n  @State() isOpen: boolean = false;\n\n  /**\n   * Selected item ID\n   */\n  @State() selectedItemId: string | null = null;\n\n  /**\n   * Selected canvas ID\n   */\n  @State() selectedCanvasId: string | null = null;\n\n  /**\n   * Component name (editable)\n   */\n  @State() componentName: string = '';\n\n  /**\n   * Component config (editable)\n   */\n  @State() componentConfig: Record<string, any> = {};\n\n  /**\n   * Original state for cancel functionality\n   */\n  private originalState: {\n    name: string;\n    zIndex: number;\n    config: Record<string, any>;\n  } | null = null;\n\n  /**\n   * Callback for componentDeleted event (stored for unsubscribe)\n   */\n  private handleComponentDeleted = (event: { itemId: string; canvasId: string }) => {\n    console.log('üîî config-panel received componentDeleted event', {\n      eventItemId: event.itemId,\n      selectedItemId: this.selectedItemId,\n      isOpen: this.isOpen,\n      shouldClose: this.isOpen && this.selectedItemId && event.itemId === this.selectedItemId,\n    });\n\n    // Close panel if the deleted item is the currently selected one\n    if (this.isOpen && this.selectedItemId && event.itemId === this.selectedItemId) {\n      console.log('  ‚úÖ Closing panel because selected item was deleted');\n      this.closePanel();\n    } else {\n      console.log('  ‚ÑπÔ∏è Not closing panel - different item or panel already closed');\n    }\n  };\n\n  /**\n   * Listen for item-click events to open panel\n   */\n  @Listen('item-click', { target: 'document' })\n  handleItemClick(event: CustomEvent) {\n    const { itemId, canvasId } = event.detail;\n    this.openPanel(itemId, canvasId);\n  }\n\n  /**\n   * Component lifecycle: Subscribe to componentDeleted event\n   */\n  componentDidLoad() {\n    console.log('üìã config-panel componentDidLoad - subscribing to componentDeleted event');\n    // Subscribe to componentDeleted events to auto-close panel when selected item is deleted\n    eventManager.on('componentDeleted', this.handleComponentDeleted);\n    console.log('  ‚úÖ Subscribed to componentDeleted event');\n  }\n\n  /**\n   * Component lifecycle: Cleanup event subscriptions\n   */\n  disconnectedCallback() {\n    eventManager.off('componentDeleted', this.handleComponentDeleted);\n  }\n\n  /**\n   * Render component template\n   */\n  render() {\n    const panelClasses = {\n      'config-panel': true,\n      open: this.isOpen,\n    };\n\n    // Get component definition for the selected item\n    const item = this.getSelectedItem();\n    const definition = item ? this.componentRegistry?.get(item.type) : null;\n\n    return (\n      <div class={panelClasses}>\n        <div class=\"config-panel-header\">\n          <h2>Component Settings</h2>\n          <button class=\"config-panel-close\" onClick={() => this.closePanel()}>\n            √ó\n          </button>\n        </div>\n\n        <div class=\"config-panel-body\">\n          {/* Component Name Field */}\n          <div class=\"config-field\">\n            <label htmlFor=\"componentName\">Component Name</label>\n            <input\n              type=\"text\"\n              id=\"componentName\"\n              value={this.componentName}\n              onInput={(e) => this.handleNameInput(e)}\n              placeholder=\"Enter component name\"\n            />\n          </div>\n\n          {/* Custom Config Panel or Auto-Generated Form */}\n          {definition && this.renderConfigFields(definition)}\n\n          {/* Z-Index Controls */}\n          <div class=\"config-field\">\n            <label>Layer Order</label>\n            <div class=\"z-index-controls\">\n              <button class=\"z-index-btn\" onClick={() => this.bringToFront()} title=\"Bring to Front\">\n                ‚¨ÜÔ∏è To Front\n              </button>\n              <button class=\"z-index-btn\" onClick={() => this.bringForward()} title=\"Bring Forward\">\n                ‚Üë Forward\n              </button>\n              <button class=\"z-index-btn\" onClick={() => this.sendBackward()} title=\"Send Backward\">\n                ‚Üì Backward\n              </button>\n              <button class=\"z-index-btn\" onClick={() => this.sendToBack()} title=\"Send to Back\">\n                ‚¨áÔ∏è To Back\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"config-panel-footer\">\n          <button onClick={() => this.closePanel()}>Cancel</button>\n          <button class=\"primary\" onClick={() => this.saveConfig()}>\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Render config fields (custom or auto-generated)\n   */\n  private renderConfigFields(definition: ComponentDefinition) {\n    // If component provides custom config panel, use it\n    if (definition.renderConfigPanel) {\n      return definition.renderConfigPanel({\n        config: this.componentConfig,\n        onChange: this.handleConfigChange,\n        onSave: this.saveConfig,\n        onCancel: this.closePanel,\n      });\n    }\n\n    // Otherwise, auto-generate form from configSchema\n    if (definition.configSchema && definition.configSchema.length > 0) {\n      return (\n        <div class=\"config-section\">\n          <h3>Component Configuration</h3>\n          {definition.configSchema.map((field) => this.renderConfigField(field))}\n        </div>\n      );\n    }\n\n    // No config available\n    return (\n      <div class=\"config-section\">\n        <p class=\"no-config\">No configuration options available for this component.</p>\n      </div>\n    );\n  }\n\n  /**\n   * Render a single config field from schema\n   */\n  private renderConfigField(field: ConfigField) {\n    const value = this.componentConfig[field.name] ?? field.defaultValue ?? '';\n\n    switch (field.type) {\n      case 'text':\n        return (\n          <div class=\"config-field\" key={field.name}>\n            <label htmlFor={field.name}>{field.label}</label>\n            <input\n              type=\"text\"\n              id={field.name}\n              value={value}\n              onInput={(e) => this.handleConfigChange(field.name, (e.target as HTMLInputElement).value)}\n              placeholder={field.placeholder}\n            />\n          </div>\n        );\n\n      case 'number':\n        return (\n          <div class=\"config-field\" key={field.name}>\n            <label htmlFor={field.name}>{field.label}</label>\n            <input\n              type=\"number\"\n              id={field.name}\n              value={value}\n              onInput={(e) => this.handleConfigChange(field.name, Number((e.target as HTMLInputElement).value))}\n              min={field.min}\n              max={field.max}\n              step={field.step}\n            />\n          </div>\n        );\n\n      case 'select':\n        return (\n          <div class=\"config-field\" key={field.name}>\n            <label htmlFor={field.name}>{field.label}</label>\n            <select\n              id={field.name}\n              onChange={(e) => this.handleConfigChange(field.name, (e.target as HTMLSelectElement).value)}\n            >\n              {field.options?.map((option) => {\n                // Handle both string and object options\n                const optionValue = typeof option === 'string' ? option : option.value;\n                const optionLabel = typeof option === 'string' ? option : option.label;\n                return (\n                  <option key={optionValue} value={optionValue} selected={value === optionValue}>\n                    {optionLabel}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n        );\n\n      case 'checkbox':\n        return (\n          <div class=\"config-field config-field-checkbox\" key={field.name}>\n            <label htmlFor={field.name}>\n              <input\n                type=\"checkbox\"\n                id={field.name}\n                checked={!!value}\n                onChange={(e) => this.handleConfigChange(field.name, (e.target as HTMLInputElement).checked)}\n              />\n              {field.label}\n            </label>\n          </div>\n        );\n\n      case 'color':\n        return (\n          <div class=\"config-field\" key={field.name}>\n            <label htmlFor={field.name}>{field.label}</label>\n            <input\n              type=\"color\"\n              id={field.name}\n              value={value}\n              onInput={(e) => this.handleConfigChange(field.name, (e.target as HTMLInputElement).value)}\n            />\n          </div>\n        );\n\n      case 'textarea':\n        return (\n          <div class=\"config-field\" key={field.name}>\n            <label htmlFor={field.name}>{field.label}</label>\n            <textarea\n              id={field.name}\n              value={value}\n              onInput={(e) => this.handleConfigChange(field.name, (e.target as HTMLTextAreaElement).value)}\n              placeholder={field.placeholder}\n              rows={field.rows || 3}\n            />\n          </div>\n        );\n\n      default:\n        return (\n          <div class=\"config-field\" key={field.name}>\n            <label>{field.label}</label>\n            <p class=\"field-error\">Unknown field type: {field.type}</p>\n          </div>\n        );\n    }\n  }\n\n  /**\n   * Get selected item from state\n   */\n  private getSelectedItem() {\n    if (!this.selectedItemId || !this.selectedCanvasId) {\n      return null;\n    }\n\n    const canvas = gridState.canvases[this.selectedCanvasId];\n    return canvas?.items.find((i) => i.id === this.selectedItemId);\n  }\n\n  /**\n   * Open config panel for item\n   */\n  private openPanel = (itemId: string, canvasId: string) => {\n    this.selectedItemId = itemId;\n    this.selectedCanvasId = canvasId;\n\n    // Get item from state\n    const item = this.getSelectedItem();\n    if (!item) {\n      return;\n    }\n\n    // Get component definition\n    const definition = this.componentRegistry?.get(item.type);\n\n    // Save original state for cancel functionality\n    this.originalState = {\n      name: item.name || definition?.name || item.type,\n      zIndex: item.zIndex,\n      config: item.config ? { ...item.config } : {},\n    };\n\n    // Populate form\n    this.componentName = this.originalState.name;\n    this.componentConfig = { ...this.originalState.config };\n\n    // Update selection in state\n    gridState.selectedItemId = itemId;\n    gridState.selectedCanvasId = canvasId;\n\n    // Open panel\n    this.isOpen = true;\n  };\n\n  /**\n   * Close config panel (revert changes)\n   */\n  private closePanel = () => {\n    // Revert changes on cancel\n    if (this.selectedItemId && this.selectedCanvasId && this.originalState) {\n      const canvas = gridState.canvases[this.selectedCanvasId];\n      const itemIndex = canvas?.items.findIndex((i) => i.id === this.selectedItemId);\n      if (itemIndex !== undefined && itemIndex !== -1) {\n        canvas.items[itemIndex] = {\n          ...canvas.items[itemIndex],\n          name: this.originalState.name,\n          zIndex: this.originalState.zIndex,\n          config: this.originalState.config,\n        };\n        gridState.canvases = { ...gridState.canvases };\n      }\n    }\n\n    this.isOpen = false;\n    this.selectedItemId = null;\n    this.selectedCanvasId = null;\n    this.componentName = '';\n    this.componentConfig = {};\n    this.originalState = null;\n  };\n\n  /**\n   * Save config changes\n   */\n  private saveConfig = () => {\n    // Changes are already applied live, so just close without reverting\n    this.isOpen = false;\n    this.selectedItemId = null;\n    this.selectedCanvasId = null;\n    this.componentName = '';\n    this.componentConfig = {};\n    this.originalState = null;\n  };\n\n  /**\n   * Handle component name input\n   */\n  private handleNameInput = (e: Event) => {\n    const target = e.target as HTMLInputElement;\n    this.componentName = target.value;\n\n    // Apply changes immediately (live preview)\n    if (this.selectedItemId && this.selectedCanvasId) {\n      const canvas = gridState.canvases[this.selectedCanvasId];\n      const itemIndex = canvas?.items.findIndex((i) => i.id === this.selectedItemId);\n      if (itemIndex !== undefined && itemIndex !== -1) {\n        canvas.items[itemIndex] = { ...canvas.items[itemIndex], name: this.componentName };\n        gridState.canvases = { ...gridState.canvases };\n      }\n    }\n  };\n\n  /**\n   * Handle config field change\n   */\n  private handleConfigChange = (fieldName: string, value: any) => {\n    // Update local config state\n    this.componentConfig = { ...this.componentConfig, [fieldName]: value };\n\n    // Apply changes immediately (live preview)\n    if (this.selectedItemId && this.selectedCanvasId) {\n      const canvas = gridState.canvases[this.selectedCanvasId];\n      const itemIndex = canvas?.items.findIndex((i) => i.id === this.selectedItemId);\n      if (itemIndex !== undefined && itemIndex !== -1) {\n        canvas.items[itemIndex] = {\n          ...canvas.items[itemIndex],\n          config: this.componentConfig,\n        };\n        gridState.canvases = { ...gridState.canvases };\n      }\n    }\n  };\n\n  /**\n   * Z-index control methods\n   */\n  private bringToFront = () => {\n    if (!this.selectedItemId || !this.selectedCanvasId) return;\n    const canvas = gridState.canvases[this.selectedCanvasId];\n    const itemIndex = canvas?.items.findIndex((i) => i.id === this.selectedItemId);\n    if (itemIndex === undefined || itemIndex === -1) return;\n\n    const newZIndex = ++canvas.zIndexCounter;\n    canvas.items[itemIndex] = { ...canvas.items[itemIndex], zIndex: newZIndex };\n    gridState.canvases = { ...gridState.canvases };\n  };\n\n  private bringForward = () => {\n    if (!this.selectedItemId || !this.selectedCanvasId) return;\n    const canvas = gridState.canvases[this.selectedCanvasId];\n    const itemIndex = canvas?.items.findIndex((i) => i.id === this.selectedItemId);\n    if (itemIndex === undefined || itemIndex === -1) return;\n\n    const item = canvas.items[itemIndex];\n    const itemsAbove = canvas.items.filter((i) => i.zIndex > item.zIndex);\n    if (itemsAbove.length > 0) {\n      const nextZIndex = Math.min(...itemsAbove.map((i) => i.zIndex));\n      const itemAboveIndex = canvas.items.findIndex((i) => i.zIndex === nextZIndex);\n      if (itemAboveIndex !== -1) {\n        const temp = item.zIndex;\n        canvas.items[itemIndex] = { ...item, zIndex: nextZIndex };\n        canvas.items[itemAboveIndex] = { ...canvas.items[itemAboveIndex], zIndex: temp };\n        gridState.canvases = { ...gridState.canvases };\n      }\n    }\n  };\n\n  private sendBackward = () => {\n    if (!this.selectedItemId || !this.selectedCanvasId) return;\n    const canvas = gridState.canvases[this.selectedCanvasId];\n    const itemIndex = canvas?.items.findIndex((i) => i.id === this.selectedItemId);\n    if (itemIndex === undefined || itemIndex === -1) return;\n\n    const item = canvas.items[itemIndex];\n    const itemsBelow = canvas.items.filter((i) => i.zIndex < item.zIndex);\n    if (itemsBelow.length > 0) {\n      const prevZIndex = Math.max(...itemsBelow.map((i) => i.zIndex));\n      const itemBelowIndex = canvas.items.findIndex((i) => i.zIndex === prevZIndex);\n      if (itemBelowIndex !== -1) {\n        const temp = item.zIndex;\n        canvas.items[itemIndex] = { ...item, zIndex: prevZIndex };\n        canvas.items[itemBelowIndex] = { ...canvas.items[itemBelowIndex], zIndex: temp };\n        gridState.canvases = { ...gridState.canvases };\n      }\n    }\n  };\n\n  private sendToBack = () => {\n    if (!this.selectedItemId || !this.selectedCanvasId) return;\n    const canvas = gridState.canvases[this.selectedCanvasId];\n    const itemIndex = canvas?.items.findIndex((i) => i.id === this.selectedItemId);\n    if (itemIndex === undefined || itemIndex === -1) return;\n\n    const minZIndex = Math.min(...canvas.items.map((i) => i.zIndex));\n    const newZIndex = Math.max(1, minZIndex - 1);\n\n    if (minZIndex <= 1) {\n      const sortedItems = [...canvas.items].sort((a, b) => a.zIndex - b.zIndex);\n      canvas.items = sortedItems.map((itm, index) => ({\n        ...itm,\n        zIndex: itm.id === this.selectedItemId ? 1 : index + 2,\n      }));\n    } else {\n      canvas.items[itemIndex] = { ...canvas.items[itemIndex], zIndex: newZIndex };\n    }\n\n    gridState.canvases = { ...gridState.canvases };\n  };\n}\n"]}